!function(){objectManager.isMissileManagerLoaded=!0;var e={missilesInUse:0,lastMissileError:"",RussianICBM:[52.5000001,82.75000015,"Aleysk (SS-18)",16e3,50.75000015,59.5000001,"Dombarovskiy (SS-18)",16e3,55.3333334,89.80000016,"Uzhur (SS-18)",16e3,53+58*.01666667,57.8333335,"Kartaly (SS-18)",16e3,52.31666673,104.23333338,"Irkutsk (SS-25)",10500,56.36666674,95.46666676,"Kansk (SS-25)",10500,54.03333334,35.76666682,"Kozel`sk (SS-19)",1e4,56.36666674,92.41666675,"Krasnoyarsk (SS-25)",10500,58.06666668,60.55000011,"Nizhniy Tagil (SS-25)",10500,55.3333334,83,"Novosibirsk (SS-25)",10500,51.6666668,45.56666678,"Tatishchevo (SS-19)",1e4,51.6666668,45.56666678,"Tatishchevo (SS-27)",10500,56.85000017,40.53333344,"Teykovo (SS-25)",10500,56.63333346,47.85000017,"Yoshkar Ola (SS-25)",10500,72.039545,42.696683,"Verkhoturye (SS-N-23A)",8300,73.902056,3.133463,"Ekaterinburg (SS-N-23A)",8300,76.502284,-158.871984,"Tula (SS-N-23A)",8300,82.25681,-10.161045,"Bryansk (SS-N-23A)",8300,81.564646,32.553796,"Karelia (SS-N-23A)",8300,74.67366,6.538173,"Novomoskovsk (SS-N-23A)",8300,71.920763,41.039876,"Borei Sub (Bulava)",9300,71.920763,41.039876,"Delta IV Sub (Sineva)",8300,71.920763,41.039876,"Delta IV Sub (Layner)",12e3],ChinaICBM:[32.997534,112.537904,"Nanyang (DF-31)",8e3,36.621398,101.773908,"Xining (DF-31)",8e3,37.797257,97.079547,"Delingha (DF-31A)",11e3,37.07045,100.805779,"Haiyan (DF-31A)",11e3,40.079969,113.29994,"Datong (DF-31A)",11e3,34.583156,105.724525,"Tainshui (DF-31A)",11e3,38.552936,106.020538,"Xixia (DF-31A)",11e3,27.242253,111.465223,"Shaoyang (DF-31A)",11e3,24.34658,102.527838,"Yuxi (DF-31A)",11e3,34.345845,111.491062,"Luoyang (DF-5A/B)",13e3,38.917086,111.847057,"Wuzhai (DF-5A/B)",13e3,40.615707,115.107604,"Xuanhua (DF-5A/B)",13e3,26.163848,109.790408,"Tongdao (DF-5A/B)",13e3,34.061291,111.054379,"Lushi (DF-5A/B)",13e3,30.691542,118.437169,"Jingxian (DF-5A/B)",13e3,37.707532,116.271994,"Jingxian (DF-5A/B)",13e3,27.415932,111.792471,"Hunan (DF-5A/B)",13e3,46.585153,125.104037,"Daqing City (DF-41)",13500,32.154153,114.099875,"Xinyang City (DF-41)",13500,40.4417,85.530745,"Xinjiang Province (DF-41)",13500,31.271257,88.699152,"Tibet Province (DF-41)",13500,29.573548,122.923151,"Type 092 Sub (JL-2)",8e3],NorthKoreanBM:[40,128.3,"Sinpo Sub (Pukkŭksŏng-1)",2500,40.019,128.193,"Sinpo (KN-14)",8e3,39.365,126.165,"P`yong`an (KN-20)",1e4,39.046,125.667,"Pyongyang (KN-22)",13e3],UsaICBM:[48.420079,-101.33356,"Ohio Sub (Trident II)",12e3,48.420079,-101.33356,"Minot (Minuteman III)",13e3,47.505958,-111.181776,"Malmstrom (Minuteman III)",13e3,41.149931,-104.860645,"F.E. Warren (Minuteman III)",13e3],FraSLBM:[47.878,-4.263,"Triomphant Sub (M51)",1e4,47.878,-4.263,"Triomphant Sub (M51)",1e4],ukSLBM:[56.066111,-4.8175,"Vanguard Sub (Trident II)",12e3,56.066111,-4.8175,"HMNB Clyde (Trident II)",12e3],globalBMTargets:[38.951,-77.013,"Washington DC",40.679,-73.947,"New York City",34.073,-118.248,"Los Angeles",41.877,-87.622,"Chicago",42.361,-71.058,"Boston",47.749,-122.317,"Seattle",25.784,-80.196,"Miami",32.828,-96.759,"Dallas",38.765,-104.837,"Colorado Springs",41.33,-96.054,"Omaha",19.832,-155.491,"Hawaii",13.588,144.922,"Guam",51.50634,-.097485,"London",48.874195,2.378987,"Paris",24.503,-66.127,"French Caribean",40.449889,-3.717309,"Madrid",41.931955,12.520198,"Rome",52.501746,13.416486,"Berlin",43.706946,-79.423854,"Toronto",55.750246,37.691525,"Moscow",59.887535,30.38409,"St. Petersburg",55.017165,82.965879,"Novosibirsk",39.974338,116.396057,"Beijing",39.044051,125.735244,"Pyongyang"]};window.missileManager=e;var s,t,a,r,i,o,h,n,u=[40.679,-73.947,42.361,-71.058,41.755,-70.539,41.763,-72.684,42.101,-72.59,39.408,-74.441,39.191,-75.534,39.331,-76.671,38.951,-77.013,37.608,-77.378,42.36,-83.048,39.844,-86.172,40.008,-83,40.538,-79.934,40.034,-75.131,47.749,-122.317,45.7,-122.581,47.732,-117.389,37.889,-122.562,36.257,-115.159,48.034,-101.295,49.134,-101.495,48.234,-100.295,48.334,-101.095,48.434,-101.295,47.948,-97.027,45.107,-93.306,47.092,-110.334,47.292,-111.834,47.592,-111.934,46.792,-111.334,47.992,-111.534,47.792,-110.734,48.592,-111.534,47.292,-111.334,46.092,-111.134,47.592,-110.034,40.21,-104.811,41.51,-105.811,41.21,-104.211,40.51,-104.211,41.21,-105.611,41.51,-104.611,41.21,-103.011,42.21,-104.011,41.91,-104.811,41.91,-104.811,34.048,-118.28,19.832,-155.491,13.588,144.922,36.318,-86.718,32.782,-97.343,32.584,-99.707,35.208,-101.837,35.188,-106.595,33.603,-111.965,38.765,-104.837,38.737,-104.883,39.847,-104.902,40.684,-105.059,40.852,-111.827,61.343,-150.187,64.94,-147.881,58.488,-134.238,30.46,-86.549,41.33,-96.054,39.113276,-121.356137,64.303735,-149.148768,76.534322,-68.718288,41.875523,-87.634038,35.145865,-89.979153,43.663448,-70.278127,43.612156,-116.231845],l=[];e.missileArray=l;function p(e){return 101325*Math.exp(-.2841957*e/2394.57888)}function M(e,t,a,r){var i,o=s,h=e*Math.PI/180,n=t*Math.PI/180,u=a*Math.PI/180,l=r*Math.PI/180;l-n>=-180&&l-n<=180&&(i=l-n),l-n>180&&(i=l-n-2*Math.PI),l-n<-180&&(i=l-n+2*Math.PI);for(var p,M=Math.atan2(Math.sin(i),Math.cos(h)*Math.tan(u)-Math.sin(h)*Math.cos(i)),d=Math.acos(Math.sin(h)*Math.sin(u)+Math.cos(h)*Math.cos(u)*Math.cos(i)),g=d*o,c=Math.asin(Math.sin(M)*Math.cos(h)),m=Math.atan2(Math.tan(h),Math.cos(M)),f=m+d,S=n-Math.atan2(Math.sin(c)*Math.sin(m),Math.cos(m)),b=[],v=[],w=[],I=[],A=[],L=[],C=[],D=[],T=[],R=0;R<=2400;R++){var B=m+R*(f-m)/2e3,E=180*Math.asin(Math.cos(c)*Math.sin(B))/Math.PI,x=180*(S+Math.atan2(Math.sin(c)*Math.sin(B),Math.cos(B)))/Math.PI;2e3===R&&(p=(B-m)*o),T.push((B-m)*o/1e3),x>=-180&&x<=180?(L.push(x),v.push(E)):x<-180?(D.push(x+360),I.push(E)):x>180&&(C.push(x-360),w.push(E))}for(R=0;R<v.length;R++)b.push(v[R]);for(R=0;R<w.length;R++)b.push(w[R]);for(R=0;R<I.length;R++)b.push(I[R]);for(R=0;R<L.length;R++)A.push(L[R]);for(R=0;R<C.length;R++)A.push(C[R]);for(R=0;R<D.length;R++)A.push(D[R]);return[b,A,180*M/Math.PI,g,T,p]}function d(e,u,l,M,d,g,c,m,f,S,b,v){var w;w=M<12e5?.0174533*(90-v*(1.5336118956+.00443173537387*M-9.30373890848*Math.pow(10,-8)*Math.pow(M,2)+8.37838197732*Math.pow(10,-13)*Math.pow(M,3)-2.71228576626*Math.pow(10,-18)*Math.pow(M,4))):30;var I=s+M,A=Math.atan2(c,m);if(u>0){var L=a*e*r;u+=(b-L)*n}else u=0;var C=u+d+i,D=function(e){return(e/=1e3)<12.5?276.642857143-5.02285714286*e:e<20?213:e<47.5?171.224358974+2.05384615385*e:e<52.5?270:e<80?435.344405594-3.13916083916*e:e<90?183:e<110?4.47*e-221.111111111:e<120?10.6*e-894:e>=120?378:void 0}(M),T=p(M),R=T/(o*D),B=Math.pow(1.4*o*D,.5),E=Math.sqrt(Math.pow(c,2)+Math.pow(m,2))/B,x=function(e){return e<.5?.125:e<1.1875?2.30117394072*e-.329086061307+-4.06597222013*Math.pow(e,2)+3.01851851676*Math.pow(e,3)+-.666666666129*Math.pow(e,4):e<1.625?.10937644721+-4.61979595244*e+9.72917139612*Math.pow(e,2)+-6.33333563852*Math.pow(e,3)+1.33333375211*Math.pow(e,4):e<3.625?.97916002909+-.540978181863*e+.125235817144*Math.pow(e,2)+-.00666103733277*Math.pow(e,3)+-.000558009790208*Math.pow(e,4):e>3.625?.25:void 0}(Math.abs(E)),y=0;u>0&&(y=function(e,s,t,a){var r=1.2,i=25*Math.pow(10,6),o=e,h=p(a),n=p(s),u=o/Math.pow(1.1*i,-r/(r-1))*Math.sqrt(1059349.509986226),l=Math.sqrt(2/(r-1)*Math.pow(i/h,(r-1)/r-1)),M=u/l*Math.pow(1+(r-1)/2*Math.pow(l,2)/1.1,2.2/(2*(r-1)));M>t&&(M=t);var d=16780096.238181822*Math.pow(1-n/i,(r-1)/r);return o*Math.sqrt(d)+(n-h)*M}(L,M,e,g));var k=.5*R*(Math.pow(c,2)+Math.pow(m,2))*l*x,P=h*t*C/Math.pow(I,2),U=(y*Math.sin(w)-k*Math.sin(A)-P)/C+I*Math.pow(m/I,2);M+=(c+=U*n)*n,f+=m*n;var N=m*s/I;S+=N*n;var F=(y*Math.cos(w)-k*Math.cos(A))/C-2*c*(m/I);return[u,C,D,T,R,B,E,x,y,k,P,U,c,M,f,N,S,F,m+=F*n]}function g(e,s,t,a,r,i,o,h,n,u,l,p,M,d,g,m,f){for(var S=[],b=0;b<500;b++){var v=1*b/500/2+.5;S.push(c(e,s,t,a,r,i,o,h,n,u,l,p,M,d,g,v))}var w=S[0],I=Math.abs(S[0]-f);for(b=0;b<S.length;b++){var A=Math.abs(S[b]-f);A<I&&(I=A,w=S[b])}for(b=0;b<500;b++)if(S[b]===w){var L=b;break}v=1*L/500/2+.5;for(var C=c(e,s,t,a,r,i,o,h,n,u,l,p,M,d,g,T=((B=(L-2)/500/2+.5)+(R=(L+2)/500/2+.5))/2),D=100*Math.abs((f-C)/f);D>.01&&Math.abs(R-B)>=1e-4;){var T=(B+R)/2;if(D=100*Math.abs((f-c(e,s,t,a,r,i,o,h,n,u,l,p,M,d,g,T))/f),c(e,s,t,a,r,i,o,h,n,u,l,p,M,d,g,T)>f)var R=T;else var B=T}return v=T}function c(e,s,t,r,i,o,h,n,u,l,p,M,g,c,m,f){for(var S,b,v=[],w=[];t/a/r>.4&&o>=0;)t=(v=d(e,t,i,o,h,l,p,M,g,c,m,f))[0],v[1],v[2],v[3],v[4],v[5],v[6],v[7],v[8],v[9],v[10],v[11],p=v[12],o=v[13],w.push(o),g=v[14],v[15],c=v[16],v[17],M=v[18],S=o;for(;t/a/r>.19&&o>=0;)t=(v=d(e,t,i,o,n,S,p,M,g,c,m,f))[0],v[1],v[2],v[3],v[4],v[5],v[6],v[7],v[8],v[9],v[10],v[11],p=v[12],o=v[13],w.push(o),g=v[14],v[15],c=v[16],v[17],M=v[18],b=o;for(;t/a/r>0&&o>=0;)t=(v=d(s,t,i,o,u,b,p,M,g,c,m,f))[0],v[1],v[2],v[3],v[4],v[5],v[6],v[7],v[8],v[9],v[10],v[11],p=v[12],o=v[13],w.push(o),g=v[14],v[15],c=v[16],v[17],M=v[18];for(;o>0;)t=(v=d(s,t=0,i,o,u,b,p,M,g,c,m,f))[0],v[1],v[2],v[3],v[4],v[5],v[6],v[7],v[8],v[9],v[10],v[11],p=v[12],o=v[13],w.push(o),g=v[14],v[15],c=v[16],v[17],M=v[18];for(var I=0,A=0;A<w.length;A++)w[A]>I&&(I=w[A]);return g}function m(){e.missilesInUse=0,searchBox.hideResults();for(var s=satSet.getSatData().length,t=0;t<500;t++){var a=s-500+t,r=satSet.getSat(a);r.active=!1,satCruncher.postMessage({id:r.id,typ:"newMissile",ON:"RV_"+r.id,satId:r.id,static:r.static,missile:r.missile,active:r.active,type:r.type,name:r.id,latList:r.latList,lonList:r.lonList,altList:r.altList,startTime:r.startTime})}}e.MassRaidPre=function(s,t){m(),$.get(t,function(t){t;for(var a=satSet.missileSats,r=0;r<t.length;r++){var i=a-500+r;t[r].startTime=s,satSet.setSat(i,t[r]);var o=satSet.getSat(i);o&&(o.id=a-500+r,satCruncher.postMessage({id:o.id,typ:"newMissile",ON:"M00"+o.id,satId:o.id,static:o.static,missile:o.missile,active:o.active,type:o.type,name:o.id,latList:o.latList,lonList:o.lonList,altList:o.altList,startTime:o.startTime}),orbitManager.updateOrbitBuffer(o.id,null,null,null,!0,o.latList,o.lonList,o.altList,o.startTime))}e.missileArray=t})},e.MassRaid=function(s,t,a){var r=0,i=500-e.missilesInUse,o=0,h=0,n=!1,l=0,p=0;if("Russia"===a)for(console.info("Russian Mass Raid Start: "+Date.now()),n=!1,h=0,r=0;r<e.RussianICBM.length/4;r++){for(n&&(h=0,n=!1),o=0;o<u.length/2;o++)i<=100||8300!==e.RussianICBM[4*r+3]&&h>19||8300===e.RussianICBM[4*r+3]&&h>11||Math.random()<.3&&(l=1*s+240*Math.random()*1e3,h+=p=e.Missile(e.RussianICBM[4*r],e.RussianICBM[4*r+1],u[2*o],u[2*o+1],3,satSet.getSatData().length-i,l,e.RussianICBM[4*r+2],30,2.9,t,e.RussianICBM[4*r+3],"Russia"),i-=p,console.info("Missiles Launched: "+(500-i)+" - "+e.RussianICBM[4*r+2]));i<=100||(8300!==e.RussianICBM[4*r+3]&&h<=18&&o>=u.length/2||8300===e.RussianICBM[4*r+3]&&h<=10&&o>=u.length/2?(r--,n=!1):n=!0)}else if("China"===a)for(console.info("Chinese Mass Raid Start: "+Date.now()),n=!1,h=0,r=0;r<e.ChinaICBM.length/4;r++){for(n&&(h=0,n=!1),o=0;o<u.length/2;o++)i<=248||h>12||Math.random()<.3&&(l=s+240*Math.random()*1e3,h+=p=e.Missile(e.ChinaICBM[4*r],e.ChinaICBM[4*r+1],u[2*o],u[2*o+1],3,satSet.getSatData().length-i,l,e.ChinaICBM[4*r+2],30,2.9,t,e.ChinaICBM[4*r+3],"China"),i-=p,console.info("Missiles Launched: "+(500-i)));i<=248||(h<=11&&o>=u.length/2?(r--,n=!1):n=!0)}else if("North Korea"===a)for(console.info("North Korea Mass Raid Start: "+Date.now()),n=!1,h=0,r=0;r<e.NorthKoreanBM.length/4;r++){for(n&&(h=0,n=!1),o=0;o<u.length/2;o++)i<=470||h>12||Math.random()<.3&&(l=s+240*Math.random()*1e3,h+=p=e.Missile(e.NorthKoreanBM[4*r],e.NorthKoreanBM[4*r+1],u[2*o],u[2*o+1],3,satSet.getSatData().length-i,l,e.NorthKoreanBM[4*r+2],30,2.9,t,e.NorthKoreanBM[4*r+3],"North Korea"),i-=p,console.info("Missiles Launched: "+(500-i)));i<=470||(h<=4&&o>=u.length/2?(r--,n=!1):n=!0)}else if("USA2Russia"===a||"USA2China"===a||"USA2NorthKorea"===a){for(console.info("USA Mass Raid Start: "+Date.now()),n=!1,h=0,r=0;r<e.UsaICBM.length/4;r++)if(o=0,n&&(h=0,n=!1),"USA2Russia"===a){for(o=0;o<e.RussianICBM.length/4;o++)i<=150||h>50||Math.random()<.3&&(l=s+240*Math.random()*1e3,h+=p=e.Missile(e.UsaICBM[4*r],e.UsaICBM[4*r+1],e.RussianICBM[4*o],e.RussianICBM[4*o+1],3,satSet.getSatData().length-i,l,e.UsaICBM[4*r+2],30,2.9,t,e.UsaICBM[4*r+3],"United States"),i-=p,console.info("Missiles Launched: "+(500-i)));i>150&&(h<=50?(r--,n=!1):n=!0)}else if("USA2China"===a){for(o=0;o<e.ChinaICBM.length/4;o++)i<=150||h>50||Math.random()<.3&&(l=s+240*Math.random()*1e3,h+=p=e.Missile(e.UsaICBM[4*r],e.UsaICBM[4*r+1],e.ChinaICBM[4*o],e.ChinaICBM[4*o+1],3,satSet.getSatData().length-i,l,e.UsaICBM[4*r+2],30,2.9,t,e.UsaICBM[4*r+3],"United States"),i-=p,console.info("Missiles Launched: "+(500-i)));i>150&&(h<=50?(r--,n=!1):n=!0)}else if("USA2NorthKorea"===a){for(o=0;o<e.NorthKoreanBM.length/4;o++)i<=482||h>5||Math.random()<.3&&(l=s+240*Math.random()*1e3,h+=p=e.Missile(e.UsaICBM[4*r],e.UsaICBM[4*r+1],e.NorthKoreanBM[4*o],e.NorthKoreanBM[4*o+1],3,satSet.getSatData().length-i,l,e.UsaICBM[4*r+2],30,2.9,t,e.UsaICBM[4*r+3],"United States"),i-=p,console.info("Missiles Launched: "+(500-i)));i>150&&(h<=5?(r--,n=!1):n=!0)}e.missilesInUse=500-i}},e.minMaxSimulation=function(s,t,a,r,i,o,h,n,u,l,p){m(),console.info("Min Max Test Started: "+Date.now()),isResetMissilesLaunched=!1,missilesLaunched=0;for(let M=h;n<=85;M+=p){for(let h=u;h<l&&(success=e.Missile(M,h,t,a,3,satSet.missileSats-(500-missilesLaunched),s,r,30,2.9,.07,i,"Analyst",o),1==success?console.log(`Missile ${missilesLaunched} Launched`):console.log("Missile Out of Range"),missilesLaunched+=success,!(missilesLaunched>=500));h+=p);if(missilesLaunched>=500)break}},e.Missile=function(u,p,c,m,f,S,b,v,w,I,A,L,C,D){var T,R=satSet.getSat(S);if(w=w||17,I=I||3.1,u>90||u<-90)return console.error("Error: Current Latitude must be between 90 and -90 degrees"),0;if(p>180||p<-180)return console.error("Error: Current Longitude must be between 180 and -180 degrees"),0;if(c>90||c<-90)return e.lastMissileError="Error: Target Latitude must be<br>between 90 and -90 degrees",0;if(m>180||m<-180)return e.lastMissileError="Error: Target Longitude must be<br>between 90 and -90 degrees",0;if(f>12)return console.error("Error: Rocket can hold up to 12 warheads"),0;if(parseFloat(f)%1>0)return console.error("Error: The number of warheads must be a whole number"),0;void 0===D&&(D=0),s=6371e3,o=287,h=6.67384*Math.pow(10,-11),t=5.9726*Math.pow(10,24);var B,E,x,y,k=[],P=[];if(E=(y=M(u,p,c,m))[0],x=y[1],y[2],de=y[3],B=y[4],T=y[5],de<32e4)return e.lastMissileError="Error: This missile has a minimum distance of 320 km.",0;if(de>1e3*L)return e.lastMissileError="Error: This missile has a maximum distance of "+L+" km.",0;var U=D*(Math.min(3,L/(de/1e3))/2);i=500*f;var N=.050389573*I,F=.25*Math.PI*Math.pow(I,2),z=1628.75*(.25*Math.PI*w*(Math.pow(I,2)-Math.pow(I-N,2))),G=407.1875*Math.PI*(.4937*w)*(Math.pow(I,2)-Math.pow(I-N,2)),K=407.1875*Math.PI*(.157*w)*(Math.pow(.75*I,2)-(Math.pow(N/2),2));r=A||.042,a=1750;var O=.25*Math.PI*Math.pow(I-N,2),_=.25*Math.PI*Math.pow(.75*I-N,2),V=O*(.651*w)+_*(.178*w),$=a*V,j=$+z+i,H=.001,q=.001,X=0,Y=0,J=0,W=0;n=1;for(var Q=[],Z=[],ee=[],se=[],te=[],ae=[],re=[],ie=[],oe=[],he=[],ne=[],ue=[],le=[],pe=0;pe<1e5;pe++)le.push(pe);for(var Me,de,ge,ce,me,fe,Se,be,ve,we,Ie,Ae,Le=[],Ce=[],De=[],Te=[],Re=[],Be=[],Ee=[],xe=[],ye=[],ke=[],Pe=[],Ue=[],Ne=[],Fe=[],ze=[],Ge=[],Ke=[],Oe=g(O,_,$,V,F,X,z,G,K,0,q,H,Y,J,0,de,T);$/a/V>.4&&X>=0;){var _e=d(O,$,F,X,z,0,q,H,Y,J,0,Oe);$=_e[0],j=_e[1],Ae=_e[2],Ie=_e[3],we=_e[4],ve=_e[5],be=_e[6],Se=_e[7],fe=_e[8],me=_e[9],ce=_e[10],ge=_e[11],q=_e[12],X=_e[13],Y=_e[14],_e[15],J=_e[16],Me=_e[17],H=_e[18];var Ve,$e=X;for(Z.push(Math.cos(J/s)*(X+s)),Q.push(Math.sin(J/s)*(X+s)),ee.push(ce/j),ue.push(fe/1e3),oe.push(be),se.push(Math.round(X/1e3*100)/100),te.push(Y/1e3),ae.push(J/1e3),pe=0;pe<B.length;pe++)if(B[pe]<=Y/1e3&&!(B[pe+1]<=Y/1e3)){k.push(Math.round(100*E[pe])/100),P.push(Math.round(100*x[pe])/100);break}for(re.push(q),ie.push(H),pe=0;pe<ne.length;pe++)Ve+=ne[pe];ne.push(n+Ve),Ce.push(ge),De.push(Me),X<12e4&&Te.push(me/1e3),X<1e5&&Re.push(ve),X<12e4&&Be.push(we),X<12e4&&Ee.push(Ie/101325),X<1e5&&xe.push(Ae),X<1e5&&Le.push(Se),$>0&&he.push($),Ke.push(W),W+=1}for(;$/a/V>.19&&X>=0;){$=(_e=d(O,$,F,X,G,$e,q,H,Y,J,0,Oe))[0],j=_e[1],Ae=_e[2],Ie=_e[3],we=_e[4],ve=_e[5],be=_e[6],Se=_e[7],fe=_e[8],me=_e[9],ce=_e[10],ge=_e[11],q=_e[12],X=_e[13],Y=_e[14],_e[15],J=_e[16],Me=_e[17],H=_e[18];var je=X;for(Z.push(Math.cos(J/s)*(X+s)),Q.push(Math.sin(J/s)*(X+s)),ee.push(ce/j),ue.push(fe/1e3),oe.push(be),se.push(Math.round(X/1e3*100)/100),te.push(Y/1e3),ae.push(J/1e3),pe=0;pe<B.length;pe++)if(B[pe]<=Y/1e3&&!(B[pe+1]<=Y/1e3)){k.push(Math.round(100*E[pe])/100),P.push(Math.round(100*x[pe])/100);break}for(re.push(q),ie.push(H),pe=0;pe<ne.length;pe++)Ve+=ne[pe];ne.push(n+Ve),Ce.push(ge),De.push(Me),X<12e4&&Te.push(me/1e3),X<1e5&&Re.push(ve),X<12e4&&Be.push(we),X<12e4&&Ee.push(Ie/101325),X<1e5&&xe.push(Ae),X<1e5&&Le.push(Se),$>0&&he.push($),Ke.push(W),W+=1}for(;$/a/V>0&&X>=0;){for($=(_e=d(_,$,F,X,K,je,q,H,Y,J,0,Oe))[0],j=_e[1],Ae=_e[2],Ie=_e[3],we=_e[4],ve=_e[5],be=_e[6],Se=_e[7],fe=_e[8],me=_e[9],ce=_e[10],ge=_e[11],q=_e[12],X=_e[13],Y=_e[14],_e[15],J=_e[16],Me=_e[17],H=_e[18],Z.push(Math.cos(J/s)*(X+s)),Q.push(Math.sin(J/s)*(X+s)),ee.push(ce/j),ue.push(fe/1e3),oe.push(be),se.push(Math.round(X/1e3*100)/100),te.push(Y/1e3),ae.push(J/1e3),pe=0;pe<B.length;pe++)if(B[pe]<=Y/1e3&&!(B[pe+1]<=Y/1e3)){k.push(Math.round(100*E[pe])/100),P.push(Math.round(100*x[pe])/100);break}for(re.push(q),ie.push(H),pe=0;pe<ne.length;pe++)Ve+=ne[pe];ne.push(n+Ve),Ce.push(ge),De.push(Me),X<12e4&&Te.push(me/1e3),X<1e5&&Re.push(ve),X<12e4&&Be.push(we),X<12e4&&Ee.push(Ie/101325),X<1e5&&xe.push(Ae),X<1e5&&Le.push(Se),$>0&&he.push($),Ke.push(W),W+=1}for(;X>0;){for($=(_e=d(_,$=0,F,X,K,je,q,H,Y,J,0,Oe))[0],j=_e[1],Ae=_e[2],Ie=_e[3],we=_e[4],ve=_e[5],be=_e[6],Se=_e[7],fe=_e[8],me=_e[9],ce=_e[10],ge=_e[11],q=_e[12],X=_e[13],Y=_e[14],_e[15],J=_e[16],Me=_e[17],H=_e[18],Z.push(Math.cos(J/s)*(X+s)),Q.push(Math.sin(J/s)*(X+s)),ee.push(ce/j),oe.push(be),se.push(Math.round(X/1e3*100)/100),te.push(Y/1e3),ae.push(J/1e3),pe=0;pe<B.length;pe++)if(B[pe]<=Y/1e3&&!(B[pe+1]<=Y/1e3)){k.push(Math.round(100*E[pe])/100),P.push(Math.round(100*x[pe])/100);break}re.push(q),ie.push(H),X<12e4&&Ue.push(me/1e3),X<12e4&&Ge.push(ve),X<12e4&&Ne.push(we),X<12e4&&Fe.push(Ie/101325),X<12e4&&ze.push(Ae),X<12e4&&ke.push(ge),X<12e4&&Pe.push(Me),X<12e4&&ye.push(Se),Ke.push(W),W+=1}var He=Ce.reduce(function(e,s){return Math.max(e,s)}),qe=De.reduce(function(e,s){return Math.max(e,s)}),Xe=re.reduce(function(e,s){return Math.max(e,s)}),Ye=ie.reduce(function(e,s){return Math.max(e,s)}),Je=se.reduce(function(e,s){return Math.max(e,s)});if(Je<U){let s=Math.min(3,U/Je);return e.Missile(u,p,c,m,f,S,b,v,w,I,A*s,L,C,D),0}if(U==3*D/2)return e.lastMissileError="Error: This distance is too close for the selected missile.",0;for(pe=0;pe<se.length;pe++)if(se[pe]===Je);for(pe=0;pe<re.length;pe++)if(re[pe]===Xe);for(pe=0;pe<ie.length;pe++){if(ie[pe]===Ye);ie[pe]}for(pe=0;pe<Ce.length;pe++)if(Ce[pe]===He);for(pe=0;pe<De.length;pe++)if(De[pe]===qe);return R&&(R.static=!1,R.altList=se,R.latList=k,R.lonList=P,R.active=!0,R.missile=!0,R.type="",R.id=S,R.ON="RV_"+R.id,R.satId=S,R.maxAlt=Je,R.startTime=b,C&&(R.C=C),R.apogee&&delete R.apogee,R.argPe&&delete R.argPe,R.eccentricity&&delete R.eccentricity,R.inclination&&delete R.inclination,R.meanMotion&&delete R.meanMotion,R.perigee&&delete R.perigee,R.period&&delete R.period,R.raan&&delete R.raan,R.semiMajorAxis&&delete R.semiMajorAxis,R.semiMinorAxis&&delete R.semiMinorAxis,v&&(R.desc=v),l.push(R),satCruncher.postMessage({id:R.id,typ:"newMissile",ON:"RV_"+R.id,satId:R.id,static:R.static,missile:R.missile,active:R.active,type:R.type,name:R.id,latList:R.latList,lonList:R.lonList,altList:R.altList,startTime:R.startTime}),orbitManager.updateOrbitBuffer(S,null,null,null,!0,R.latList,R.lonList,R.altList,R.startTime),e.missileArray=l),e.missilesInUse++,e.lastMissileError="Missile Named RV_"+R.id+"<br>has been created.",1},e.asat=((s,t,a,r,i,o,h,n,u)=>{let l=satSet.getSat(a),p=l.getTEARR(),M=p.alt;console.log(p.lat*RAD2DEG),console.log(p.lon*RAD2DEG),console.log(p.alt);let d,g=-1*s,c=t>=0?t-180:t+180;d=e.asatPreFlight(s,t,g,c,3,r,i,"ASAT",o,h,n,2e5,"USA",M),console.log(d);let m=timeManager.propTime(),f=timeManager.propTimeCheck(1e3*d,m);console.log(f);let S=satellite.getTEARR(l,sensorManager.sensorList.COD,f),b=S.alt;console.log(S.lat*RAD2DEG),console.log(S.lon*RAD2DEG),console.log(S.alt),g=S.lat*RAD2DEG,c=(c=(c=S.lon*RAD2DEG)>180?c-360:c)<-180?c+360:c;let[v,w,I]=e.asatFlight(s,t,g,c,b,3,r,i,"ASAT",o,h,n,2e5,"USA",d,u);console.log(v),console.log(`tgtLat: ${w} - tgtLon: ${I}`),f=timeManager.propTimeCheck(1e3*v,m),console.log(f);let A=satellite.getTEARR(l,sensorManager.sensorList.COD,f),L=A.alt;console.log(A.lat*RAD2DEG),console.log(A.lon*RAD2DEG),console.log(A.alt),g=A.lat*RAD2DEG,c=(c=(c=A.lon*RAD2DEG)>180?c-360:c)<-180?c+360:c;let[C,D,T]=e.asatFlight(s,t,g,c,L,3,r,i,"ASAT",o,h,n,2e5,"USA",v,u);console.log(C),console.log(`tgtLat: ${D} - tgtLon: ${T}`)}),e.asatPreFlight=((u,l,p,c,m,f,S,b,v,w,I,A,L,C)=>{var D;satSet.getSat(f);if(v=v||17,w=w||3.1,u>90||u<-90)return console.error("Error: Current Latitude must be between 90 and -90 degrees"),0;if(l>180||l<-180)return console.error("Error: Current Longitude must be between 180 and -180 degrees"),0;if(m>12)return console.error("Error: Rocket can hold up to 12 warheads"),0;if(parseFloat(m)%1>0)return console.error("Error: The number of warheads must be a whole number"),0;s=6371e3,o=287,h=6.67384*Math.pow(10,-11),t=5.9726*Math.pow(10,24);var T,R,B,E,x=[],y=[];if(R=(E=M(u,l,p,c))[0],B=E[1],E[2],le=E[3],T=E[4],D=E[5],le>1e3*A)return e.lastMissileError="Error: This missile has a maximum distance of "+A+" km.",0;i=500*m;var k=.050389573*w,P=.25*Math.PI*Math.pow(w,2),U=1628.75*(.25*Math.PI*v*(Math.pow(w,2)-Math.pow(w-k,2))),N=407.1875*Math.PI*(.4937*v)*(Math.pow(w,2)-Math.pow(w-k,2)),F=407.1875*Math.PI*(.157*v)*(Math.pow(.75*w,2)-(Math.pow(k/2),2));r=I||.042,a=1750;var z=.25*Math.PI*Math.pow(w-k,2),G=.25*Math.PI*Math.pow(.75*w-k,2),K=z*(.651*v)+G*(.178*v),O=a*K,_=O+U+i,V=.001,$=.001,j=0,H=0,q=0,X=0;n=1;for(var Y=[],J=[],W=[],Q=[],Z=[],ee=[],se=[],te=[],ae=[],re=[],ie=[],oe=[],he=[],ne=0;ne<1e5;ne++)he.push(ne);for(var ue,le,pe,Me,de,ge,ce,me,fe,Se,be,ve,we=[],Ie=[],Ae=[],Le=[],Ce=[],De=[],Te=[],Re=[],Be=[],Ee=[],xe=[],ye=[],ke=[],Pe=[],Ue=[],Ne=[],Fe=[],ze=g(z,G,O,K,P,j,U,N,F,0,$,V,H,q,0,le,D);O/a/K>.4&&j>=0;){var Ge=d(z,O,P,j,U,0,$,V,H,q,0,ze);O=Ge[0],_=Ge[1],ve=Ge[2],be=Ge[3],Se=Ge[4],fe=Ge[5],me=Ge[6],ce=Ge[7],ge=Ge[8],de=Ge[9],Me=Ge[10],pe=Ge[11],$=Ge[12],j=Ge[13],H=Ge[14],Ge[15],q=Ge[16],ue=Ge[17],V=Ge[18];var Ke,Oe=j;for(J.push(Math.cos(q/s)*(j+s)),Y.push(Math.sin(q/s)*(j+s)),W.push(Me/_),oe.push(ge/1e3),ae.push(me),Q.push(Math.round(j/1e3*100)/100),Z.push(H/1e3),ee.push(q/1e3),ne=0;ne<T.length;ne++)if(T[ne]<=H/1e3&&!(T[ne+1]<=H/1e3)){x.push(Math.round(100*R[ne])/100),y.push(Math.round(100*B[ne])/100);break}for(se.push($),te.push(V),ne=0;ne<ie.length;ne++)Ke+=ie[ne];ie.push(n+Ke),Ie.push(pe),Ae.push(ue),j<12e4&&Le.push(de/1e3),j<1e5&&Ce.push(fe),j<12e4&&De.push(Se),j<12e4&&Te.push(be/101325),j<1e5&&Re.push(ve),j<1e5&&we.push(ce),O>0&&re.push(O),Fe.push(X),X+=1}for(;O/a/K>.19&&j>=0;){O=(Ge=d(z,O,P,j,N,Oe,$,V,H,q,0,ze))[0],_=Ge[1],ve=Ge[2],be=Ge[3],Se=Ge[4],fe=Ge[5],me=Ge[6],ce=Ge[7],ge=Ge[8],de=Ge[9],Me=Ge[10],pe=Ge[11],$=Ge[12],j=Ge[13],H=Ge[14],Ge[15],q=Ge[16],ue=Ge[17],V=Ge[18];var _e=j;for(J.push(Math.cos(q/s)*(j+s)),Y.push(Math.sin(q/s)*(j+s)),W.push(Me/_),oe.push(ge/1e3),ae.push(me),Q.push(Math.round(j/1e3*100)/100),Z.push(H/1e3),ee.push(q/1e3),ne=0;ne<T.length;ne++)if(T[ne]<=H/1e3&&!(T[ne+1]<=H/1e3)){x.push(Math.round(100*R[ne])/100),y.push(Math.round(100*B[ne])/100);break}for(se.push($),te.push(V),ne=0;ne<ie.length;ne++)Ke+=ie[ne];ie.push(n+Ke),Ie.push(pe),Ae.push(ue),j<12e4&&Le.push(de/1e3),j<1e5&&Ce.push(fe),j<12e4&&De.push(Se),j<12e4&&Te.push(be/101325),j<1e5&&Re.push(ve),j<1e5&&we.push(ce),O>0&&re.push(O),Fe.push(X),X+=1}for(;O/a/K>0&&j>=0;){for(O=(Ge=d(G,O,P,j,F,_e,$,V,H,q,0,ze))[0],_=Ge[1],ve=Ge[2],be=Ge[3],Se=Ge[4],fe=Ge[5],me=Ge[6],ce=Ge[7],ge=Ge[8],de=Ge[9],Me=Ge[10],pe=Ge[11],$=Ge[12],j=Ge[13],H=Ge[14],Ge[15],q=Ge[16],ue=Ge[17],V=Ge[18],J.push(Math.cos(q/s)*(j+s)),Y.push(Math.sin(q/s)*(j+s)),W.push(Me/_),oe.push(ge/1e3),ae.push(me),Q.push(Math.round(j/1e3*100)/100),Z.push(H/1e3),ee.push(q/1e3),ne=0;ne<T.length;ne++)if(T[ne]<=H/1e3&&!(T[ne+1]<=H/1e3)){x.push(Math.round(100*R[ne])/100),y.push(Math.round(100*B[ne])/100);break}for(se.push($),te.push(V),ne=0;ne<ie.length;ne++)Ke+=ie[ne];ie.push(n+Ke),Ie.push(pe),Ae.push(ue),j<12e4&&Le.push(de/1e3),j<1e5&&Ce.push(fe),j<12e4&&De.push(Se),j<12e4&&Te.push(be/101325),j<1e5&&Re.push(ve),j<1e5&&we.push(ce),O>0&&re.push(O),Fe.push(X),X+=1}for(;j>0;){for(O=(Ge=d(G,O=0,P,j,F,_e,$,V,H,q,0,ze))[0],_=Ge[1],ve=Ge[2],be=Ge[3],Se=Ge[4],fe=Ge[5],me=Ge[6],ce=Ge[7],ge=Ge[8],de=Ge[9],Me=Ge[10],pe=Ge[11],$=Ge[12],j=Ge[13],H=Ge[14],Ge[15],q=Ge[16],ue=Ge[17],V=Ge[18],J.push(Math.cos(q/s)*(j+s)),Y.push(Math.sin(q/s)*(j+s)),W.push(Me/_),ae.push(me),Q.push(Math.round(j/1e3*100)/100),Z.push(H/1e3),ee.push(q/1e3),ne=0;ne<T.length;ne++)if(T[ne]<=H/1e3&&!(T[ne+1]<=H/1e3)){x.push(Math.round(100*R[ne])/100),y.push(Math.round(100*B[ne])/100);break}se.push($),te.push(V),j<12e4&&ye.push(de/1e3),j<12e4&&Ne.push(fe),j<12e4&&ke.push(Se),j<12e4&&Pe.push(be/101325),j<12e4&&Ue.push(ve),j<12e4&&Ee.push(pe),j<12e4&&xe.push(ue),j<12e4&&Be.push(ce),Fe.push(X),X+=1}Ie.reduce(function(e,s){return Math.max(e,s)}),Ae.reduce(function(e,s){return Math.max(e,s)}),se.reduce(function(e,s){return Math.max(e,s)}),te.reduce(function(e,s){return Math.max(e,s)});var Ve=Q.reduce(function(e,s){return Math.max(e,s)});if(console.log(`Max Altitude ${Ve}`),console.log(Q),console.log(`Required Altitude ${C}`),Ve<C)return e.lastMissileError=`Failed Min Altitude Check! Max Altitude ${Ve} km.`,-1;console.log(S);for(ne=0;ne<Q.length;ne++)if(Q[ne]===Ve)var $e=ne;return console.log(`Time Until Max Altitude: ${$e}`),$e}),e.asatFlight=function(u,p,g,c,m,f,S,b,v,w,I,A,L,C,D,T){var R=satSet.getSat(S);if(w=w||17,I=I||3.1,u>90||u<-90)return console.error("Error: Current Latitude must be between 90 and -90 degrees"),0;if(p>180||p<-180)return console.error("Error: Current Longitude must be between 180 and -180 degrees"),0;if(g>90||g<-90)return e.lastMissileError="Error: Target Latitude must be<br>between 90 and -90 degrees",0;if(c>180||c<-180)return console.log(c),e.lastMissileError="Error: Target Longitude must be<br>between 180 and -180 degrees",0;if(f>12)return console.error("Error: Rocket can hold up to 12 warheads"),0;if(parseFloat(f)%1>0)return console.error("Error: The number of warheads must be a whole number"),0;"undefined"==typeof minAltitude&&(minAltitude=0),s=6371e3,o=287,h=6.67384*Math.pow(10,-11),t=5.9726*Math.pow(10,24);var B,E,x,y,k=[],P=[];if(E=(y=M(u,p,g,c))[0],x=y[1],y[2],Me=y[3],B=y[4],y[5],Me>1e3*L)return e.lastMissileError="Error: This missile has a maximum distance of "+L+" km.",0;i=500*f;var U=.050389573*I,N=.25*Math.PI*Math.pow(I,2),F=1628.75*(.25*Math.PI*w*(Math.pow(I,2)-Math.pow(I-U,2))),z=407.1875*Math.PI*(.4937*w)*(Math.pow(I,2)-Math.pow(I-U,2)),G=407.1875*Math.PI*(.157*w)*(Math.pow(.75*I,2)-(Math.pow(U/2),2));r=A||.042,a=1750;var K=.25*Math.PI*Math.pow(I-U,2),O=.25*Math.PI*Math.pow(.75*I-U,2),_=K*(.651*w)+O*(.178*w),V=a*_,$=V+F+i,j=.001,H=.001,q=0,X=0,Y=0,J=0;n=1;for(var W=[],Q=[],Z=[],ee=[],se=[],te=[],ae=[],re=[],ie=[],oe=[],he=[],ne=[],ue=[],le=0;le<1e5;le++)ue.push(le);for(var pe,Me,de,ge,ce,me,fe,Se,be,ve,we,Ie,Ae=[],Le=[],Ce=[],De=[],Te=[],Re=[],Be=[],Ee=[],xe=[],ye=[],ke=[],Pe=[],Ue=[],Ne=[],Fe=[],ze=[],Ge=[];V/a/_>.4&&q>=0;){var Ke=d(K,V,N,q,F,0,H,j,X,Y,0,T);V=Ke[0],$=Ke[1],Ie=Ke[2],we=Ke[3],ve=Ke[4],be=Ke[5],Se=Ke[6],fe=Ke[7],me=Ke[8],ce=Ke[9],ge=Ke[10],de=Ke[11],H=Ke[12],q=Ke[13],X=Ke[14],Ke[15],Y=Ke[16],pe=Ke[17],j=Ke[18];var Oe,_e=q;for(Q.push(Math.cos(Y/s)*(q+s)),W.push(Math.sin(Y/s)*(q+s)),Z.push(ge/$),ne.push(me/1e3),ie.push(Se),ee.push(Math.round(q/1e3*100)/100),se.push(X/1e3),te.push(Y/1e3),le=0;le<B.length;le++)if(B[le]<=X/1e3&&!(B[le+1]<=X/1e3)){k.push(Math.round(100*E[le])/100),P.push(Math.round(100*x[le])/100);break}for(ae.push(H),re.push(j),le=0;le<he.length;le++)Oe+=he[le];he.push(n+Oe),Le.push(de),Ce.push(pe),q<12e4&&De.push(ce/1e3),q<1e5&&Te.push(be),q<12e4&&Re.push(ve),q<12e4&&Be.push(we/101325),q<1e5&&Ee.push(Ie),q<1e5&&Ae.push(fe),V>0&&oe.push(V),Ge.push(J),J+=1}for(;V/a/_>.19&&q>=0;){V=(Ke=d(K,V,N,q,z,_e,H,j,X,Y,0,T))[0],$=Ke[1],Ie=Ke[2],we=Ke[3],ve=Ke[4],be=Ke[5],Se=Ke[6],fe=Ke[7],me=Ke[8],ce=Ke[9],ge=Ke[10],de=Ke[11],H=Ke[12],q=Ke[13],X=Ke[14],Ke[15],Y=Ke[16],pe=Ke[17],j=Ke[18];var Ve=q;for(Q.push(Math.cos(Y/s)*(q+s)),W.push(Math.sin(Y/s)*(q+s)),Z.push(ge/$),ne.push(me/1e3),ie.push(Se),ee.push(Math.round(q/1e3*100)/100),se.push(X/1e3),te.push(Y/1e3),le=0;le<B.length;le++)if(B[le]<=X/1e3&&!(B[le+1]<=X/1e3)){k.push(Math.round(100*E[le])/100),P.push(Math.round(100*x[le])/100);break}for(ae.push(H),re.push(j),le=0;le<he.length;le++)Oe+=he[le];he.push(n+Oe),Le.push(de),Ce.push(pe),q<12e4&&De.push(ce/1e3),q<1e5&&Te.push(be),q<12e4&&Re.push(ve),q<12e4&&Be.push(we/101325),q<1e5&&Ee.push(Ie),q<1e5&&Ae.push(fe),V>0&&oe.push(V),Ge.push(J),J+=1}for(;V/a/_>0&&q>=0;){for(V=(Ke=d(O,V,N,q,G,Ve,H,j,X,Y,0,T))[0],$=Ke[1],Ie=Ke[2],we=Ke[3],ve=Ke[4],be=Ke[5],Se=Ke[6],fe=Ke[7],me=Ke[8],ce=Ke[9],ge=Ke[10],de=Ke[11],H=Ke[12],q=Ke[13],X=Ke[14],Ke[15],Y=Ke[16],pe=Ke[17],j=Ke[18],Q.push(Math.cos(Y/s)*(q+s)),W.push(Math.sin(Y/s)*(q+s)),Z.push(ge/$),ne.push(me/1e3),ie.push(Se),ee.push(Math.round(q/1e3*100)/100),se.push(X/1e3),te.push(Y/1e3),le=0;le<B.length;le++)if(B[le]<=X/1e3&&!(B[le+1]<=X/1e3)){k.push(Math.round(100*E[le])/100),P.push(Math.round(100*x[le])/100);break}for(ae.push(H),re.push(j),le=0;le<he.length;le++)Oe+=he[le];he.push(n+Oe),Le.push(de),Ce.push(pe),q<12e4&&De.push(ce/1e3),q<1e5&&Te.push(be),q<12e4&&Re.push(ve),q<12e4&&Be.push(we/101325),q<1e5&&Ee.push(Ie),q<1e5&&Ae.push(fe),V>0&&oe.push(V),Ge.push(J),J+=1}for(;q/1e3<=m;){for(V=(Ke=d(O,V=0,N,q,G,Ve,H,j,X,Y,0,T))[0],$=Ke[1],Ie=Ke[2],we=Ke[3],ve=Ke[4],be=Ke[5],Se=Ke[6],fe=Ke[7],me=Ke[8],ce=Ke[9],ge=Ke[10],de=Ke[11],H=Ke[12],q=Ke[13],X=Ke[14],Ke[15],Y=Ke[16],pe=Ke[17],j=Ke[18],Q.push(Math.cos(Y/s)*(q+s)),W.push(Math.sin(Y/s)*(q+s)),Z.push(ge/$),ie.push(Se),ee.push(Math.round(q/1e3*100)/100),se.push(X/1e3),te.push(Y/1e3),le=0;le<B.length;le++)if(B[le]<=X/1e3&&!(B[le+1]<=X/1e3)){k.push(Math.round(100*E[le])/100),P.push(Math.round(100*x[le])/100);break}ae.push(H),re.push(j),q<12e4&&Pe.push(ce/1e3),q<12e4&&ze.push(be),q<12e4&&Ue.push(ve),q<12e4&&Ne.push(we/101325),q<12e4&&Fe.push(Ie),q<12e4&&ye.push(de),q<12e4&&ke.push(pe),q<12e4&&xe.push(fe),Ge.push(J),J+=1}D=J;var $e=Le.reduce(function(e,s){return Math.max(e,s)}),je=Ce.reduce(function(e,s){return Math.max(e,s)}),He=ae.reduce(function(e,s){return Math.max(e,s)}),qe=re.reduce(function(e,s){return Math.max(e,s)}),Xe=ee.reduce(function(e,s){return Math.max(e,s)});if(console.log(b),Xe<minAltitude){Math.min(3,minAltitude/Xe);return e.asatFlight(u,p,g,c,m,f,S,b,v,w,I,A,L,C),0}for(le=0;le<ee.length;le++)if(ee[le]===Xe);for(le=0;le<ae.length;le++)if(ae[le]===He);for(le=0;le<re.length;le++){if(re[le]===qe);re[le]}for(le=0;le<Le.length;le++)if(Le[le]===$e);for(le=0;le<Ce.length;le++)if(Ce[le]===je);return R&&(R.static=!1,R.altList=ee,R.latList=k,R.lonList=P,R.active=!0,R.missile=!0,R.type="",R.id=S,R.ON="RV_"+R.id,R.satId=S,R.maxAlt=Xe,R.startTime=b,C&&(R.C=C),R.apogee&&delete R.apogee,R.argPe&&delete R.argPe,R.eccentricity&&delete R.eccentricity,R.inclination&&delete R.inclination,R.meanMotion&&delete R.meanMotion,R.perigee&&delete R.perigee,R.period&&delete R.period,R.raan&&delete R.raan,R.semiMajorAxis&&delete R.semiMajorAxis,R.semiMinorAxis&&delete R.semiMinorAxis,v&&(R.desc=v),l.push(R),satCruncher.postMessage({id:R.id,typ:"newMissile",ON:"RV_"+R.id,satId:R.id,static:R.static,missile:R.missile,active:R.active,type:R.type,name:R.id,latList:R.latList,lonList:R.lonList,altList:R.altList,startTime:R.startTime}),orbitManager.updateOrbitBuffer(S,null,null,null,!0,R.latList,R.lonList,R.altList,R.startTime),e.missileArray=l),e.missilesInUse++,e.lastMissileError="Missile Named RV_"+R.id+"<br>has been created.",[D,k[D-1],P[D-1]]},e.getMissileTEARR=function(e,s){var t={};timeManager.propRealTime=Date.now();var a=timeManager.getPropOffset(),r=timeManager.propTimeCheck(a,timeManager.propRealTime),i=timeManager.jday(r.getUTCFullYear(),r.getUTCMonth()+1,r.getUTCDate(),r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds());i+=r.getUTCMilliseconds()*MILLISECONDS_PER_DAY;var o=satellite.gstime(i);if(void 0===s){if(void 0===sensorManager.currentSensor)throw"getTEARR requires a sensor or for a sensor to be currently selected.";s=sensorManager.currentSensor}if(void 0===s.observerGd)try{s.observerGd={height:s.obshei,latitude:s.lat,longitude:s.long}}catch(e){throw"observerGd is not set and could not be guessed."}timeManager.propRealTime=Date.now(),a=timeManager.getPropOffset();for(var h=e.altList.length,n=0;n<h;n++)if(1*e.startTime+1e3*n>1*r){curMissileTime=n;break}cosLat=Math.cos(e.latList[curMissileTime]*DEG2RAD),sinLat=Math.sin(e.latList[curMissileTime]*DEG2RAD),cosLon=Math.cos(e.lonList[curMissileTime]*DEG2RAD+o),sinLon=Math.sin(e.lonList[curMissileTime]*DEG2RAD+o),x=(RADIUS_OF_EARTH+e.altList[curMissileTime])*cosLat*cosLon,y=(RADIUS_OF_EARTH+e.altList[curMissileTime])*cosLat*sinLon,z=(RADIUS_OF_EARTH+e.altList[curMissileTime])*sinLat;try{gpos=satellite.eciToGeodetic({x:x,y:y,z:z},o),t.alt=gpos.height,t.lon=gpos.longitude,t.lat=gpos.latitude,positionEcf=satellite.eciToEcf({x:x,y:y,z:z},o),lookAngles=satellite.ecfToLookAngles(s.observerGd,positionEcf),t.azimuth=lookAngles.azimuth*RAD2DEG,t.elevation=lookAngles.elevation*RAD2DEG,t.range=lookAngles.rangeSat}catch(e){t.alt=0,t.lon=0,t.lat=0,positionEcf=0,lookAngles=0,t.azimuth=0,t.elevation=0,t.range=0}return s.obsminaz>s.obsmaxaz?(t.azimuth>=s.obsminaz||t.azimuth<=s.obsmaxaz)&&t.elevation>=s.obsminel&&t.elevation<=s.obsmaxel&&t.range<=s.obsmaxrange&&t.range>=s.obsminrange||(t.azimuth>=s.obsminaz2||t.azimuth<=s.obsmaxaz2)&&t.elevation>=s.obsminel2&&t.elevation<=s.obsmaxel2&&t.range<=s.obsmaxrange2&&t.range>=s.obsminrange2?t.inview=!0:t.inview=!1:t.azimuth>=s.obsminaz&&t.azimuth<=s.obsmaxaz&&t.elevation>=s.obsminel&&t.elevation<=s.obsmaxel&&t.range<=s.obsmaxrange&&t.range>=s.obsminrange||t.azimuth>=s.obsminaz2&&t.azimuth<=s.obsmaxaz2&&t.elevation>=s.obsminel2&&t.elevation<=s.obsmaxel2&&t.range<=s.obsmaxrange2&&t.range>=s.obsminrange2?t.inview=!0:t.inview=!1,uiManager.currentTEARR=t,t}}();