!function(){var e,t,a,r,n,o={},m=Date.now();o.dateObject=new Date,o.nowTemp=o.dateObject,o.now=m,o.propRealTime=m,o.propOffset=0,o.propRate=1,a=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,r=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,n=/[^-+\dA-Z]/g,o.dateFormat=function(e,t,m){var i=o.dateFormat;if(1!==arguments.length||"[object String]"!==Object.prototype.toString.call(e)||/\d/.test(e)||(t=e,e=void 0),e=e?new Date(e):new Date,isNaN(e))throw SyntaxError("invalid date");"UTC:"===(t=String(i.masks[t]||t||i.masks.default)).slice(0,4)&&(t=t.slice(4),m=!0);var s=m?"getUTC":"get",d=e[s+"Date"](),u=e[s+"Day"](),y=e[s+"Month"](),l=e[s+"FullYear"](),T=e[s+"Hours"](),p=e[s+"Minutes"](),c=e[s+"Seconds"](),M=e[s+"Milliseconds"](),f=m?0:e.getTimezoneOffset(),h={d:d,dd:g(d),ddd:i.i18n.dayNames[u],dddd:i.i18n.dayNames[u+7],m:y+1,mm:g(y+1),mmm:i.i18n.monthNames[y],mmmm:i.i18n.monthNames[y+12],yy:String(l).slice(2),yyyy:l,h:T%12||12,hh:g(T%12||12),H:T,HH:g(T),M:p,MM:g(p),s:c,ss:g(c),l:g(M,3),L:g(M>99?Math.round(M/10):M),t:T<12?"a":"p",tt:T<12?"am":"pm",T:T<12?"A":"P",TT:T<12?"AM":"PM",Z:m?"UTC":(String(e).match(r)||[""]).pop().replace(n,""),o:(f>0?"-":"+")+g(100*Math.floor(Math.abs(f)/60)+Math.abs(f)%60,4),S:["th","st","nd","rd"][d%10>3?0:(d%100-d%10!=10)*d%10]};return t.replace(a,function(e){return e in h?h[e]:e.slice(1,e.length-1)});function g(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e}},o.dateFormat.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd' 'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"},o.dateFormat.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]},o.propTime=function(){return 0===o.propRate?o.nowTemp.setTime(Number(m)+o.propOffset):o.nowTemp.setTime(Number(o.propRealTime)+o.propOffset+(Number(o.now)-Number(o.propRealTime))*o.propRate),o.nowTemp},o.propTimeCheck=function(e,t){"use strict";var a=new Date;return a.setTime(Number(t)+e),a},o.setPropRateZero=function(){o.propRate=0,m=Date.now()},o.getPropOffset=function(){var e=$("#datetime-text").text().substr(0,19);if(e){e=e.split(" "),e=new Date(e[0]+"T"+e[1]+"Z");var t=new Date;return o.propOffset=e-t,o.propOffset}},o.dateToISOLikeButLocal=function(e){var t=60*e.getTimezoneOffset()*1e3,a=e.getTime()-t,r=new Date(a),n=r.toISOString();return(n=n.replace("T"," ")).slice(0,19)+" "+r.toString().slice(25,31)},o.localToZulu=function(e){return e=(e=o.dateFormat(e,"isoDateTime",!0)).split(" "),e=new Date(e[0]+"T"+e[1]+"Z")},o.getDayOfYear=function(e){var t=(e=e||new Date).getMonth(),a=e.getUTCDate(),r=[0,31,59,90,120,151,181,212,243,273,304,334][t]+a;return t>1&&function(e){var t=e.getFullYear();return 0==(3&t)&&(t%100!=0||t%400==0)}(e)&&r++,r},o.jday=function(a,r,n,o,m,i){return a?367*a-Math.floor(7*(a+Math.floor((r+9)/12))*.25)+Math.floor(275*r/9)+n+1721013.5+((i/60+m)/60+o)/24:(s=Date.now(),e=new Date(s.getFullYear(),0,0),t=s-e,Math.floor(t/MILLISECONDS_PER_DAY));var s},window.timeManager=o}();