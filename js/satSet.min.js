var satSensorMarkerArray=[];!function(){var e,t,a,r,i,n,o,l,g,u,c,d,m=360/(2*Math.PI),h={},f=settingsManager.limitSats,S={},M=mat4.create(),v=-1;try{$("#loader-text").text("Locating ELSETs..."),h=new Worker("js/sat-cruncher.js")}catch(e){browserUnsupported()}var p,b,L,C,A,w,F=0,R=0,x=!1;h.onmessage=function(e){if(!x){for(d=JSON.parse(e.data.extraData),C=0;C<S.numSats;C++)c[C].inclination=d[C].inclination,c[C].eccentricity=d[C].eccentricity,c[C].raan=d[C].raan,c[C].argPe=d[C].argPe,c[C].meanMotion=d[C].meanMotion,c[C].semiMajorAxis=d[C].semiMajorAxis,c[C].semiMinorAxis=d[C].semiMinorAxis,c[C].apogee=d[C].apogee,c[C].perigee=d[C].perigee,c[C].period=d[C].period;return x=!0,void(d=null)}if(e.data.extraUpdate)return d=JSON.parse(e.data.extraData),C=e.data.satId,c[C].inclination=d[0].inclination,c[C].eccentricity=d[0].eccentricity,c[C].raan=d[0].raan,c[C].argPe=d[0].argPe,c[C].meanMotion=d[0].meanMotion,c[C].semiMajorAxis=d[0].semiMajorAxis,c[C].semiMinorAxis=d[0].semiMinorAxis,c[C].apogee=d[0].apogee,c[C].perigee=d[0].perigee,c[C].period=d[0].period,c[C].TLE1=d[0].TLE1,c[C].TLE2=d[0].TLE2,void(d=null);o=new Float32Array(e.data.satPos),l=new Float32Array(e.data.satVel),void 0!==e.data.satInView&&(g=new Int8Array(e.data.satInView)),void 0!==e.data.satInSun&&(u=new Int8Array(e.data.satInSun)),void 0!==e.data.sensorMarkerArray&&(satSensorMarkerArray=e.data.sensorMarkerArray),(settingsManager.isMapMenuOpen||settingsManager.isMapUpdateOverride)&&((R=Date.now())>settingsManager.lastMapUpdateTime+3e4?(uiController.updateMap(),settingsManager.lastMapUpdateTime=R,settingsManager.isMapUpdateOverride=!1):settingsManager.isMapUpdateOverride&&(uiController.updateMap(),settingsManager.lastMapUpdateTime=R,settingsManager.isMapUpdateOverride=!1)),settingsManager.socratesOnSatCruncher&&(selectSat(settingsManager.socratesOnSatCruncher),settingsManager.socratesOnSatCruncher=null),(satellite.sensorSelected()||settingsManager.isForceColorScheme)&&(isDragging||S.setColorScheme(settingsManager.currentColorScheme,!0)),settingsManager.cruncherReady||($("#version-info").html(settingsManager.versionNumber),$("#version-info").tooltip({delay:50,html:settingsManager.versionDate,position:"top"}),""!==f&&$("#menu-satellite-collision").hide(),$("body").attr("style","background:black"),$("#canvas-holder").attr("style","display:block"),settingsManager.isBottomIconsEnabled=!0,mobile.checkMobileMode(),settingsManager.isMobileModeEnabled?($("#mobile-start-button").show(),$("#spinner").hide(),$("#loader-text").html("")):settingsManager.trusatImages?setTimeout(function(){$("#loading-screen").removeClass("full-loader"),$("#loading-screen").addClass("mini-loader-container"),$("#logo-inner-container").addClass("mini-loader"),$("#logo-text").html(""),$("#loader-text").html("Attempting to Math..."),$("#loading-screen").fadeOut()},5e3):($("#loading-screen").removeClass("full-loader"),$("#loading-screen").addClass("mini-loader-container"),$("#logo-inner-container").addClass("mini-loader"),$("#logo-text").html(""),$("#loader-text").html("Attempting to Math..."),$("#loading-screen").fadeOut()),S.setColorScheme(settingsManager.currentColorScheme),settingsManager.cruncherReady=!0,function(){var e=settingsManager.offline?null:localStorage.getItem("watchlistList");if(null!==e){var t=JSON.parse(e);watchlistInViewList=[];for(var a=0;a<t.length;a++){var r=S.getSatExtraOnly(S.getIdFromObjNum(t[a]));if(null===r)return void console.error("Watchlist File Format Incorret");t[a]=r.id,watchlistInViewList.push(!1)}uiController.updateWatchlist(t,watchlistInViewList)}}(),$(window).width()>$(window).height()?(settingsManager.mapHeight=$(window).width(),$("#map-image").width(settingsManager.mapHeight),settingsManager.mapHeight=3*settingsManager.mapHeight/4,$("#map-image").height(settingsManager.mapHeight),$("#map-menu").width($(window).width())):(settingsManager.mapHeight=$(window).height()-100,$("#map-image").height(settingsManager.mapHeight),settingsManager.mapHeight=4*settingsManager.mapHeight/3,$("#map-image").width(settingsManager.mapHeight),$("#map-menu").width($(window).width())))},S.changeShaders=function(t){switch(gl.detachShader(e,A),gl.detachShader(e,w),t){case"var":gl.shaderSource(A,shaderLoader.getShaderCode("dot-vertex-var.glsl"));break;case 12:gl.shaderSource(A,shaderLoader.getShaderCode("dot-vertex-12.glsl"));break;case 6:gl.shaderSource(A,shaderLoader.getShaderCode("dot-vertex-6.glsl"));break;case 2:gl.shaderSource(A,shaderLoader.getShaderCode("dot-vertex-2.glsl"))}gl.compileShader(A),gl.shaderSource(w,shaderLoader.getShaderCode("dot-fragment.glsl")),gl.compileShader(w),gl.attachShader(e,A),gl.attachShader(e,w),gl.linkProgram(e),e.aPos=gl.getAttribLocation(e,"aPos"),e.aColor=gl.getAttribLocation(e,"aColor"),e.uMvMatrix=gl.getUniformLocation(e,"uMvMatrix"),e.uCamMatrix=gl.getUniformLocation(e,"uCamMatrix"),e.uPMatrix=gl.getUniformLocation(e,"uPMatrix")},S.init=function(a){if(function(){for(var e=window.location.search.substring(1).split("&"),t=0;t<e.length;t++){"vertShadersSize"===e[t].split("=")[0]&&(settingsManager.vertShadersSize=6,document.getElementById("settings-shaders").checked=!0)}}(),e=gl.createProgram(),A=gl.createShader(gl.VERTEX_SHADER),gl.shaderSource(A,shaderLoader.getShaderCode("dot-vertex-var.glsl")),gl.compileShader(A),w=gl.createShader(gl.FRAGMENT_SHADER),gl.shaderSource(w,shaderLoader.getShaderCode("dot-fragment.glsl")),gl.compileShader(w),gl.attachShader(e,A),gl.attachShader(e,w),gl.linkProgram(e),e.aPos=gl.getAttribLocation(e,"aPos"),e.aColor=gl.getAttribLocation(e,"aColor"),e.uMvMatrix=gl.getUniformLocation(e,"uMvMatrix"),e.uCamMatrix=gl.getUniformLocation(e,"uCamMatrix"),e.uPMatrix=gl.getUniformLocation(e,"uPMatrix"),settingsManager.offline)n(jsTLEfile),jsTLEfile=null;else{var r=settingsManager.tleSource;$.get(r+"?v="+settingsManager.versionNumber).done(function(e){n(e)}).fail(function(){$.getScript("/offline/tle.js",function(){n(jsTLEfile)})}),jsTLEfile=null}function n(e){var r,n,l,g,u,d,m,M,v,p=[];!function(){for(var e=window.location.search.substring(1).split("&"),t=0;t<e.length;t++){var a=e[t].split("=")[0],i=e[t].split("=")[1];switch(a){case"limitSats":f=i,$("#limitSats").val(i),$("#limitSats-Label").addClass("active"),p=i.split(",");break;case"lat":r=i;break;case"long":n=i;break;case"hei":l=i;break;case"minaz":g=i;break;case"maxaz":u=i;break;case"minel":d=i;break;case"maxel":m=i;break;case"minrange":M=i;break;case"maxrange":v=i}}}(),c=function(t){var a,r,i=[];null==t[0]&&(f="");for(var n=0;n<e.length;n++)if(e[n].SCC_NUM=E(e[n].TLE1.substr(2,5).trim(),5),""!==f)for(var o=0;o<t.length;o++)e[n].SCC_NUM===t[o]&&(""===(a=e[n].TLE1.substr(9,8).trim().substring(0,2))?e[n].intlDes="none":(a=(a>50?"19":"20")+a,r=e[n].TLE1.substr(9,8).trim().substring(2),e[n].intlDes=a+"-"+r),e[n].id=n,e[n].active=!0,i.push(e[n]));else""===(a=e[n].TLE1.substr(9,8).trim().substring(0,2))?e[n].intlDes="none":(a=(a>50?"19":"20")+a,r=e[n].TLE1.substr(9,8).trim().substring(2),e[n].intlDes=a+"-"+r),e[n].id=n,e[n].active=!0,i.push(e[n]);var l=!1;if("undefined"!=typeof satelliteList&&settingsManager.offline){for(s=0;s<satelliteList.length;s++){for(l=!1,n=0;n<i.length;n++)if(void 0!=satelliteList[s].SCC&&void 0!=satelliteList[s].TLE1&&void 0!=satelliteList[s].TLE2&&i[n].SCC_NUM===satelliteList[s].SCC){i[n].ON=satelliteList[s].ON,i[n].OT=void 0!==satelliteList[s].OT?satelliteList[s].OT:null,i[n].TLE1=satelliteList[s].TLE1,i[n].TLE2=satelliteList[s].TLE2,l=!0;break}if(!l){if(void 0==satelliteList[s].TLE1)continue;if(void 0==satelliteList[s].TLE2)continue;void 0===satelliteList[s].ON&&(satelliteList[s].ON="Unknown"),void 0===satelliteList[s].OT&&(satelliteList[s].OT=null),a=((a=satelliteList[s].TLE1.substr(9,8).trim().substring(0,2))>50?"19":"20")+a,r=satelliteList[s].TLE1.substr(9,8).trim().substring(2),extrasSatInfo={static:!1,missile:!1,active:!1,ON:satelliteList[s].ON,OT:satelliteList[s].OT,C:"Unknown",LV:"Unknown",LS:"Unknown",SCC_NUM:satelliteList[s].SCC.toString(),TLE1:satelliteList[s].TLE1,TLE2:satelliteList[s].TLE2,intlDes:a+"-"+r,type:"sat",id:i.length},i.push(extrasSatInfo)}}satelliteList=null}if("undefined"!=typeof satInfoList&&settingsManager.offline){for(s=0;s<satInfoList.length;s++)for(l=!1,n=s;n<i.length;n++)if(satInfoList[s].SCC===i[n].SCC_NUM){i[n].ON=satInfoList[s].ON,i[n].C=satInfoList[s].C,i[n].LV=satInfoList[s].LV,i[n].LS=satInfoList[s].LS,i[n].URL=satInfoList[s].URL,l=!0;break}satInfoList=null}for(S.orbitalSats=i.length,loggerStop=Date.now(),n=0;n<objectManager.staticSet.length;n++)i.push(objectManager.staticSet[n]);for(n=0;n<objectManager.analSatSet.length;n++)objectManager.analSatSet[n].id=i.length,i.push(objectManager.analSatSet[n]);for(n=0;n<objectManager.missileSet.length;n++)i.push(objectManager.missileSet[n]);for(S.missileSats=i.length,n=0;n<objectManager.fieldOfViewSet.length;n++)objectManager.fieldOfViewSet[n].id=i.length,i.push(objectManager.fieldOfViewSet[n]);return i}(p),e=null,S.satDataString=JSON.stringify(c),timeManager.propRealTime=Date.now(),void 0!==r&&void 0!==n&&void 0!==l&&void 0!==g&&void 0!==u&&void 0!==d&&void 0!==m&&void 0!==M&&void 0!==v&&(satellite.setobs({lat:r,long:n,obshei:l,obsminaz:g,obsmaxaz:u,obsminel:d,obsmaxel:m,obsminrange:M,obsmaxrange:v}),h.postMessage({typ:"offset",dat:timeManager.propOffset.toString()+" "+timeManager.propRate.toString(),setlatlong:!0,lat:r,long:n,obshei:l,obsminaz:g,obsmaxaz:u,obsminel:d,obsmaxel:m,obsminrange:M,obsmaxrange:v})),h.postMessage({typ:"satdata",dat:S.satDataString,fieldOfViewSetLength:objectManager.fieldOfViewSet.length,isLowPerf:settingsManager.lowPerf}),t=gl.createBuffer(),o=new Float32Array(3*c.length);var b=[];i=gl.createBuffer();for(var L=0;L<c.length;L++){var C=L+1&255,A=(L+1&65280)>>8,w=(L+1&16711680)>>16;b.push(C/255),b.push(A/255),b.push(w/255)}gl.bindBuffer(gl.ARRAY_BUFFER,i),gl.bufferData(gl.ARRAY_BUFFER,new Float32Array(b),gl.STATIC_DRAW),S.numSats=c.length,S.setColorScheme(ColorScheme.default,!0),settingsManager.shadersReady=!0,a&&(a(c),void 0===S.getSat(S.getIdFromObjNum(694)).vmag&&satVmagManager.init())}},S.getSatData=function(){return c},S.getSatInView=function(){return void 0!==g&&g},S.getSatInSun=function(){return void 0!==u&&u},S.getSatVel=function(){return void 0!==l&&l},S.setColorScheme=function(e,t){settingsManager.currentColorScheme=e,r=e.calculateColorBuffers(t),a=r.colorBuf,n=r.pickableBuf};var y;function E(e,t){return e.length<t?E("0"+e,t):e}S.draw=function(r,s,g){if(settingsManager.shadersReady&&settingsManager.cruncherReady){if(p=Math.max(timeManager.propRate,.001),b=Math.min((g-F)/1e3,1/p),b*=timeManager.propRate,S.satDataLenInDraw=c.length,!settingsManager.lowPerf&&b>settingsManager.minimumDrawDt){if(settingsManager.isSatOverflyModeOn||settingsManager.isFOVBubbleModeOn)for(S.satDataLenInDraw*=3,L=0;L<S.satDataLenInDraw;L++)0!=l[L]&&(o[L]+=l[L]*b);else for(S.satDataLenInDraw-=settingsManager.maxFieldOfViewMarkers,L=0;L<3*S.satDataLenInDraw;L++)0!=l[L]&&(o[L]+=l[L]*b);F=g}return gl.useProgram(e),gl.bindFramebuffer(gl.FRAMEBUFFER,null),gl.uniformMatrix4fv(e.uMvMatrix,!1,M),gl.uniformMatrix4fv(e.uCamMatrix,!1,s),gl.uniformMatrix4fv(e.uPMatrix,!1,r),gl.bindBuffer(gl.ARRAY_BUFFER,t),gl.bufferData(gl.ARRAY_BUFFER,o,gl.STREAM_DRAW),gl.vertexAttribPointer(e.aPos,3,gl.FLOAT,!1,0,0),gl.bindBuffer(gl.ARRAY_BUFFER,a),gl.enableVertexAttribArray(e.aColor),gl.vertexAttribPointer(e.aColor,4,gl.FLOAT,!1,0,0),gl.blendFunc(gl.SRC_ALPHA,gl.ONE_MINUS_SRC_ALPHA),gl.enable(gl.BLEND),gl.depthMask(!1),gl.drawArrays(gl.POINTS,0,c.length),gl.depthMask(!0),gl.disable(gl.BLEND),gl.useProgram(gl.pickShaderProgram),gl.bindFramebuffer(gl.FRAMEBUFFER,gl.pickFb),gl.uniformMatrix4fv(gl.pickShaderProgram.uMvMatrix,!1,M),gl.uniformMatrix4fv(gl.pickShaderProgram.uCamMatrix,!1,s),gl.uniformMatrix4fv(gl.pickShaderProgram.uPMatrix,!1,r),gl.enableVertexAttribArray(gl.pickShaderProgram.aColor),gl.bindBuffer(gl.ARRAY_BUFFER,i),gl.vertexAttribPointer(gl.pickShaderProgram.aColor,3,gl.FLOAT,!1,0,0),gl.bindBuffer(gl.ARRAY_BUFFER,n),gl.enableVertexAttribArray(gl.pickShaderProgram.aPickable),gl.vertexAttribPointer(gl.pickShaderProgram.aPickable,1,gl.FLOAT,!1,0,0),gl.drawArrays(gl.POINTS,0,c.length),!0}},S.mergeSat=function(e){if(!c)return null;var t=S.getIdFromObjNum(e.SCC);c[t].ON=e.ON,c[t].C=e.C,c[t].LV=e.LV,c[t].LS=e.LS,c[t].R=e.R,c[t].URL=e.URL,c[t].NOTES=e.NOTES,c[t].TTP=e.TTP,c[t].FMISSED=e.FMISSED,c[t].ORPO=e.ORPO,c[t].constellation=e.constellation,c[t].associates=e.associates,c[t].maneuver=e.maneuver},S.vmagUpdate=function(e){if(!c)return null;var t=S.getIdFromObjNum(e.satid);try{c[t].vmag=e.vmag}catch(e){}},S.setSat=function(e,t){if(!c)return null;c[e]=t},S.getSat=function(e){return c&&c[e]?(x&&(c[e].inViewChange=!1,void 0!==g&&void 0!==g[e]?(c[e].inview!==g[e]&&(c[e].inViewChange=!0),c[e].inview=g[e]):(c[e].inview=!1,c[e].inViewChange=!1),void 0!==u&&void 0!==u[e]&&(c[e].inSun!==u[e]&&(c[e].inSunChange=!0),c[e].inSun=u[e]),c[e].velocity=Math.sqrt(l[3*e]*l[3*e]+l[3*e+1]*l[3*e+1]+l[3*e+2]*l[3*e+2]),c[e].velocityX=l[3*e],c[e].velocityY=l[3*e+1],c[e].velocityZ=l[3*e+2],c[e].position={x:o[3*e],y:o[3*e+1],z:o[3*e+2]}),c[e]):null},S.getSatInViewOnly=function(e){return c&&c[e]?(c[e].inview=g[e],c[e]):null},S.getSatPosOnly=function(e){return c&&c[e]?(x&&(c[e].position={x:o[3*e],y:o[3*e+1],z:o[3*e+2]}),c[e]):null},S.getSatExtraOnly=function(e){return c&&c[e]?c[e]:null},S.getIdFromIntlDes=function(e){for(var t=0;t<c.length;t++)if(c[t].intlDes===e)return t;return null},S.getSatFromObjNum=function(e){var t=S.getIdFromObjNum(e);return S.getSat(t)},S.getIdFromObjNum=function(e){for(var t,a=0;a<c.length;a++)if(!c[a].static&&!c[a].missile&&(t=parseInt(c[a].SCC_NUM),parseInt(e)===t))return a;return null},S.getIdFromStarName=function(e){for(var t=0;t<c.length;t++)if("Star"===c[t].type&&c[t].name===e)return t;return null},S.getIdFromSensorName=function(e){if(void 0!==e)for(var t=0;t<c.length;t++)if(!0===c[t].static&&!0!==c[t].missile&&"Star"!==c[t].type&&c[t].name===e)return t;try{var a=timeManager.propTime(),r=timeManager.jday(a.getUTCFullYear(),a.getUTCMonth()+1,a.getUTCDate(),a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds());r+=1.15741e-8*a.getUTCMilliseconds();var i=satellite.gstime(r);cosLat=Math.cos(satellite.currentSensor.lat*DEG2RAD),sinLat=Math.sin(satellite.currentSensor.lat*DEG2RAD),cosLon=Math.cos(satellite.currentSensor.long*DEG2RAD+i),sinLon=Math.sin(satellite.currentSensor.long*DEG2RAD+i);var n={position:{},name:"Custom Sensor"};return n.position.x=(6371.25+satellite.currentSensor.obshei)*cosLat*cosLon,n.position.y=(6371.25+satellite.currentSensor.obshei)*cosLat*sinLon,n.position.z=(6371.25+satellite.currentSensor.obshei)*sinLat,n}catch(e){return console.log(e),null}},S.getScreenCoords=function(e,t,a,r){satScreenPositionArray.error=!1,r||(r=S.getSatPosOnly(e).position),y=vec4.fromValues(r.x,r.y,r.z,1),vec4.transformMat4(y,y,a),vec4.transformMat4(y,y,t),satScreenPositionArray.x=y[0]/y[3],satScreenPositionArray.y=y[1]/y[3],satScreenPositionArray.z=y[2]/y[3],satScreenPositionArray.x=.5*(satScreenPositionArray.x+1)*window.innerWidth,satScreenPositionArray.y=.5*(1-satScreenPositionArray.y)*window.innerHeight,satScreenPositionArray.x>=0&&satScreenPositionArray.y>=0&&satScreenPositionArray.z>=0&&satScreenPositionArray.z<=1||(satScreenPositionArray.error=!0)},S.searchNameRegex=function(e){for(var t=[],a=0;a<c.length;a++)e.test(c[a].ON)&&t.push(a);return t},S.searchCountryRegex=function(e){for(var t=[],a=0;a<c.length;a++)e.test(c[a].C)&&t.push(a);return t},S.searchAzElRange=function(e,t,a,r,i,n,s,o,l,g,u){var d=!isNaN(parseFloat(e))&&isFinite(e),h=!isNaN(parseFloat(t))&&isFinite(t),f=!isNaN(parseFloat(a))&&isFinite(a),S=!isNaN(parseFloat(r))&&isFinite(r),M=!isNaN(parseFloat(l))&&isFinite(l),v=!isNaN(parseFloat(i))&&isFinite(i),p=!isNaN(parseFloat(n))&&isFinite(n),b=!isNaN(parseFloat(s))&&isFinite(s),L=!isNaN(parseFloat(o))&&isFinite(o),C=!isNaN(parseFloat(g))&&isFinite(g);if(u*=1,h||f||d||S||M){v||(i=5),p||(n=5),b||(s=200),L||(o=1),C||(g=.5);for(var A=[],w=0,F=0;F<c.length;F++)c[F].static||c[F].missile||!c[F].active||(A.push(c[F]),satellite.getTEARR(A[w]),A[w].azimuth=satellite.currentTEARR.azimuth,A[w].elevation=satellite.currentTEARR.elevation,A[w].range=satellite.currentTEARR.range,A[w].inview=satellite.currentTEARR.inview,w++);if(S||M||(A=function(e){for(var t=[],a=0;a<e.length;a++)e[a].inview&&t.push(e[a]);return t}(A)),0!==u&&(A=function(e){for(var t=[],a=0;a<e.length;a++)e[a].OT===u&&t.push(e[a]);return t}(A)),d)A=function(e,t,a){for(var r=[],i=0;i<e.length;i++)e[i].azimuth<a&&e[i].azimuth>t&&r.push(e[i]);return r}(A,(e*=1)-(i*=1),e+i);if(h)A=function(e,t,a){for(var r=[],i=0;i<e.length;i++)e[i].elevation<a&&e[i].elevation>t&&r.push(e[i]);return r}(A,(t*=1)-(n*=1),t+n);if(f)A=function(e,t,a){for(var r=[],i=0;i<e.length;i++)e[i].range<a&&e[i].range>t&&r.push(e[i]);return r}(A,(a*=1)-(s*=1),a+s);if(S)A=function(e,t,a){for(var r=[],i=0;i<e.length;i++)(e[i].inclination*m).toFixed(2)<a&&(e[i].inclination*m).toFixed(2)>t&&r.push(e[i]);return r}(A,(r*=1)-(o*=1),r+o);if(M)A=function(e,t,a){for(var r=[],i=0;i<e.length;i++)e[i].period<a&&e[i].period>t&&r.length<=200&&r.push(e[i]);r.length>=200&&$("#findByLooks-results").text("Limited to 200 Results!");return r}(A,(l*=1)-(g*=1),l+g);var R=[];for(F=0;F<A.length;F++)F<A.length-1?$("#search").val($("#search").val()+A[F].SCC_NUM+","):$("#search").val($("#search").val()+A[F].SCC_NUM),R.push(A[F].SCC_NUM);return searchBox.doSearch($("#search").val()),A}},S.setHover=function(e){e!==v&&(gl.bindBuffer(gl.ARRAY_BUFFER,a),-1!==v&&gl.bufferSubData(gl.ARRAY_BUFFER,4*v*4,new Float32Array(settingsManager.currentColorScheme.colorizer(S.getSat(v)).color)),-1!==e&&gl.bufferSubData(gl.ARRAY_BUFFER,4*e*4,new Float32Array(settingsManager.hoverColor)),v=e)},S.selectSat=function(e){e!==selectedSat&&(adviceList.satelliteSelected(),h.postMessage({satelliteSelected:[e]}),settingsManager.isMobileModeEnabled&&mobile.searchToggle(!1),gl.bindBuffer(gl.ARRAY_BUFFER,a),-1!==selectedSat&&gl.bufferSubData(gl.ARRAY_BUFFER,4*selectedSat*4,new Float32Array(settingsManager.currentColorScheme.colorizer(S.getSat(selectedSat)).color)),-1!==e&&(isSatView=!0,gl.bufferSubData(gl.ARRAY_BUFFER,4*e*4,new Float32Array(settingsManager.selectedColor))),selectedSat=e,satellite.sensorSelected()&&$("#menu-lookangles").removeClass("bmenu-item-disabled"),$("#menu-lookanglesmultisite").removeClass("bmenu-item-disabled"),$("#menu-satview").removeClass("bmenu-item-disabled"),$("#menu-map").removeClass("bmenu-item-disabled"),$("#menu-editSat").removeClass("bmenu-item-disabled"),$("#menu-sat-fov").removeClass("bmenu-item-disabled"),$("#menu-newLaunch").removeClass("bmenu-item-disabled"),$("#menu-breakup").removeClass("bmenu-item-disabled"))},S.onCruncherReady=function(e){settingsManager.cruncherReady&&e()},window.satSet=S,window.satCruncher=h,window.satPos=o}();