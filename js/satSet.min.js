var satSensorMarkerArray=[];!function(){var e,t,a,r,i,n,l,o,g,u,c,d=360/(2*Math.PI),h={},m=settingsManager.limitSats,f={},S=mat4.create(),M=-1;try{$("#loader-text").text("Locating ELSETs..."),h=new Worker("js/sat-cruncher.js")}catch(e){browserUnsupported()}var p,v,b,L,C,A,w=0,R=0,F=!1;h.onmessage=function(e){if(!F){for(c=JSON.parse(e.data.extraData),L=0;L<f.numSats;L++)u[L].inclination=c[L].inclination,u[L].eccentricity=c[L].eccentricity,u[L].raan=c[L].raan,u[L].argPe=c[L].argPe,u[L].meanMotion=c[L].meanMotion,u[L].semiMajorAxis=c[L].semiMajorAxis,u[L].semiMinorAxis=c[L].semiMinorAxis,u[L].apogee=c[L].apogee,u[L].perigee=c[L].perigee,u[L].period=c[L].period;return F=!0,void(c=null)}if(e.data.extraUpdate)return c=JSON.parse(e.data.extraData),L=e.data.satId,u[L].inclination=c[0].inclination,u[L].eccentricity=c[0].eccentricity,u[L].raan=c[0].raan,u[L].argPe=c[0].argPe,u[L].meanMotion=c[0].meanMotion,u[L].semiMajorAxis=c[0].semiMajorAxis,u[L].semiMinorAxis=c[0].semiMinorAxis,u[L].apogee=c[0].apogee,u[L].perigee=c[0].perigee,u[L].period=c[0].period,u[L].TLE1=c[0].TLE1,u[L].TLE2=c[0].TLE2,void(c=null);l=new Float32Array(e.data.satPos),o=new Float32Array(e.data.satVel),g=new Int8Array(e.data.satInView),satSensorMarkerArray=e.data.sensorMarkerArray,(settingsManager.isMapMenuOpen||settingsManager.isMapUpdateOverride)&&((R=Date.now())>settingsManager.lastMapUpdateTime+3e4?(uiController.updateMap(),settingsManager.lastMapUpdateTime=R,settingsManager.isMapUpdateOverride=!1):settingsManager.isMapUpdateOverride&&(uiController.updateMap(),settingsManager.lastMapUpdateTime=R,settingsManager.isMapUpdateOverride=!1)),settingsManager.socratesOnSatCruncher&&(selectSat(settingsManager.socratesOnSatCruncher),settingsManager.socratesOnSatCruncher=null),(satellite.sensorSelected()||settingsManager.isForceColorScheme)&&(isDragging||f.setColorScheme(settingsManager.currentColorScheme)),settingsManager.cruncherReady||($("#version-info").html(settingsManager.versionNumber),$("#version-info").tooltip({delay:50,html:settingsManager.versionDate,position:"top"}),""!==m&&$("#menu-satellite-collision").hide(),$("body").attr("style","background:black"),$("#canvas-holder").attr("style","display:block"),settingsManager.isBottomIconsEnabled=!0,mobile.checkMobileMode(),settingsManager.isMobileModeEnabled?($("#mobile-start-button").show(),$("#spinner").hide(),$("#loader-text").html("")):($("#loading-screen").removeClass("full-loader"),$("#loading-screen").addClass("mini-loader-container"),$("#logo-inner-container").addClass("mini-loader"),$("#logo-text").html(""),$("#loader-text").html("Attempting to Math..."),$("#loading-screen").fadeOut()),f.setColorScheme(settingsManager.currentColorScheme),settingsManager.cruncherReady=!0,function(){var e=settingsManager.offline?null:localStorage.getItem("watchlistList");if(null!==e){var t=JSON.parse(e);watchlistInViewList=[];for(var a=0;a<t.length;a++){var r=f.getSatExtraOnly(f.getIdFromObjNum(t[a]));if(null===r)return void console.error("Watchlist File Format Incorret");t[a]=r.id,watchlistInViewList.push(!1)}uiController.updateWatchlist(t,watchlistInViewList)}}(),$(window).width()>$(window).height()?(settingsManager.mapHeight=$(window).width(),$("#map-image").width(settingsManager.mapHeight),settingsManager.mapHeight=3*settingsManager.mapHeight/4,$("#map-image").height(settingsManager.mapHeight),$("#map-menu").width($(window).width())):(settingsManager.mapHeight=$(window).height()-100,$("#map-image").height(settingsManager.mapHeight),settingsManager.mapHeight=4*settingsManager.mapHeight/3,$("#map-image").width(settingsManager.mapHeight),$("#map-menu").width($(window).width())))},f.changeShaders=function(t){switch(gl.detachShader(e,C),gl.detachShader(e,A),t){case"var":gl.shaderSource(C,shaderLoader.getShaderCode("dot-vertex-var.glsl"));break;case 12:gl.shaderSource(C,shaderLoader.getShaderCode("dot-vertex-12.glsl"));break;case 6:gl.shaderSource(C,shaderLoader.getShaderCode("dot-vertex-6.glsl"));break;case 2:gl.shaderSource(C,shaderLoader.getShaderCode("dot-vertex-2.glsl"))}gl.compileShader(C),gl.shaderSource(A,shaderLoader.getShaderCode("dot-fragment.glsl")),gl.compileShader(A),gl.attachShader(e,C),gl.attachShader(e,A),gl.linkProgram(e),e.aPos=gl.getAttribLocation(e,"aPos"),e.aColor=gl.getAttribLocation(e,"aColor"),e.uMvMatrix=gl.getUniformLocation(e,"uMvMatrix"),e.uCamMatrix=gl.getUniformLocation(e,"uCamMatrix"),e.uPMatrix=gl.getUniformLocation(e,"uPMatrix")},f.init=function(a){if(function(){for(var e=window.location.search.substring(1).split("&"),t=0;t<e.length;t++){"vertShadersSize"===e[t].split("=")[0]&&(settingsManager.vertShadersSize=6,document.getElementById("settings-shaders").checked=!0)}}(),e=gl.createProgram(),C=gl.createShader(gl.VERTEX_SHADER),gl.shaderSource(C,shaderLoader.getShaderCode("dot-vertex-var.glsl")),gl.compileShader(C),A=gl.createShader(gl.FRAGMENT_SHADER),gl.shaderSource(A,shaderLoader.getShaderCode("dot-fragment.glsl")),gl.compileShader(A),gl.attachShader(e,C),gl.attachShader(e,A),gl.linkProgram(e),e.aPos=gl.getAttribLocation(e,"aPos"),e.aColor=gl.getAttribLocation(e,"aColor"),e.uMvMatrix=gl.getUniformLocation(e,"uMvMatrix"),e.uCamMatrix=gl.getUniformLocation(e,"uCamMatrix"),e.uPMatrix=gl.getUniformLocation(e,"uPMatrix"),settingsManager.offline)n(jsTLEfile),jsTLEfile=null;else{var r=settingsManager.tleSource;$.get(r+"?v="+settingsManager.versionNumber).done(function(e){n(e)}).fail(function(){$.getScript("/offline/tle.js",function(){n(jsTLEfile)})}),jsTLEfile=null}function n(e){var r,n,o,g,c,d,S,M,p,v=[];!function(){for(var e=window.location.search.substring(1).split("&"),t=0;t<e.length;t++){var a=e[t].split("=")[0],i=e[t].split("=")[1];switch(a){case"limitSats":m=i,$("#limitSats").val(i),$("#limitSats-Label").addClass("active"),v=i.split(",");break;case"lat":r=i;break;case"long":n=i;break;case"hei":o=i;break;case"minaz":g=i;break;case"maxaz":c=i;break;case"minel":d=i;break;case"maxel":S=i;break;case"minrange":M=i;break;case"maxrange":p=i}}}(),u=function(t){var a,r,i=[];null==t[0]&&(m="");for(var n=0;n<e.length;n++)if(e[n].SCC_NUM=y(e[n].TLE1.substr(2,5).trim(),5),""!==m)for(var l=0;l<t.length;l++)e[n].SCC_NUM===t[l]&&(""===(a=e[n].TLE1.substr(9,8).trim().substring(0,2))?e[n].intlDes="none":(a=(a>50?"19":"20")+a,r=e[n].TLE1.substr(9,8).trim().substring(2),e[n].intlDes=a+"-"+r),e[n].id=n,e[n].active=!0,i.push(e[n]));else""===(a=e[n].TLE1.substr(9,8).trim().substring(0,2))?e[n].intlDes="none":(a=(a>50?"19":"20")+a,r=e[n].TLE1.substr(9,8).trim().substring(2),e[n].intlDes=a+"-"+r),e[n].id=n,e[n].active=!0,i.push(e[n]);var o=!1;if("undefined"!=typeof satelliteList&&settingsManager.offline){for(s=0;s<satelliteList.length;s++){for(o=!1,n=0;n<i.length;n++)if(void 0!=satelliteList[s].SCC&&void 0!=satelliteList[s].TLE1&&void 0!=satelliteList[s].TLE2&&i[n].SCC_NUM===satelliteList[s].SCC){i[n].ON=satelliteList[s].ON,i[n].OT=void 0!==satelliteList[s].OT?satelliteList[s].OT:null,i[n].TLE1=satelliteList[s].TLE1,i[n].TLE2=satelliteList[s].TLE2,o=!0;break}if(!o){if(void 0==satelliteList[s].TLE1)continue;if(void 0==satelliteList[s].TLE2)continue;void 0===satelliteList[s].ON&&(satelliteList[s].ON="Unknown"),void 0===satelliteList[s].OT&&(satelliteList[s].OT=null),a=((a=satelliteList[s].TLE1.substr(9,8).trim().substring(0,2))>50?"19":"20")+a,r=satelliteList[s].TLE1.substr(9,8).trim().substring(2),extrasSatInfo={static:!1,missile:!1,active:!1,ON:satelliteList[s].ON,OT:satelliteList[s].OT,C:"Unknown",LV:"Unknown",LS:"Unknown",SCC_NUM:satelliteList[s].SCC.toString(),TLE1:satelliteList[s].TLE1,TLE2:satelliteList[s].TLE2,intlDes:a+"-"+r,type:"sat",id:i.length},i.push(extrasSatInfo)}}satelliteList=null}if("undefined"!=typeof satInfoList&&settingsManager.offline){for(s=0;s<satInfoList.length;s++)for(o=!1,n=s;n<i.length;n++)if(satInfoList[s].SCC===i[n].SCC_NUM){i[n].ON=satInfoList[s].ON,i[n].C=satInfoList[s].C,i[n].LV=satInfoList[s].LV,i[n].LS=satInfoList[s].LS,i[n].URL=satInfoList[s].URL,o=!0;break}satInfoList=null}for(f.orbitalSats=i.length,loggerStop=Date.now(),n=0;n<objectManager.staticSet.length;n++)i.push(objectManager.staticSet[n]);for(n=0;n<objectManager.analSatSet.length;n++)objectManager.analSatSet[n].id=i.length,i.push(objectManager.analSatSet[n]);for(n=0;n<objectManager.missileSet.length;n++)i.push(objectManager.missileSet[n]);for(f.missileSats=i.length,n=0;n<objectManager.fieldOfViewSet.length;n++)objectManager.fieldOfViewSet[n].id=i.length,i.push(objectManager.fieldOfViewSet[n]);return i}(v),e=null,f.satDataString=JSON.stringify(u),timeManager.propRealTime=Date.now(),void 0!==r&&void 0!==n&&void 0!==o&&void 0!==g&&void 0!==c&&void 0!==d&&void 0!==S&&void 0!==M&&void 0!==p&&(satellite.setobs({lat:r,long:n,obshei:o,obsminaz:g,obsmaxaz:c,obsminel:d,obsmaxel:S,obsminrange:M,obsmaxrange:p}),h.postMessage({typ:"offset",dat:timeManager.propOffset.toString()+" "+timeManager.propRate.toString(),setlatlong:!0,lat:r,long:n,obshei:o,obsminaz:g,obsmaxaz:c,obsminel:d,obsmaxel:S,obsminrange:M,obsmaxrange:p})),h.postMessage({typ:"satdata",dat:f.satDataString,fieldOfViewSetLength:objectManager.fieldOfViewSet.length,isLowPerf:settingsManager.lowPerf}),t=gl.createBuffer(),l=new Float32Array(3*u.length);var b=[];i=gl.createBuffer();for(var L=0;L<u.length;L++){var C=L+1&255,A=(L+1&65280)>>8,w=(L+1&16711680)>>16;b.push(C/255),b.push(A/255),b.push(w/255)}gl.bindBuffer(gl.ARRAY_BUFFER,i),gl.bufferData(gl.ARRAY_BUFFER,new Float32Array(b),gl.STATIC_DRAW),f.numSats=u.length,f.setColorScheme(ColorScheme.default,!0),settingsManager.shadersReady=!0,a&&a(u)}},f.getSatData=function(){return u},f.getSatInView=function(){return void 0!==g&&g},f.getSatVel=function(){return void 0!==o&&o},f.setColorScheme=function(e,t){settingsManager.currentColorScheme=e,r=e.calculateColorBuffers(t),a=r.colorBuf,n=r.pickableBuf};var x;function y(e,t){return e.length<t?y("0"+e,t):e}f.draw=function(r,s,g){if(settingsManager.shadersReady&&settingsManager.cruncherReady){if(p=Math.max(timeManager.propRate,.001),v=Math.min((g-w)/1e3,1/p),v*=timeManager.propRate,f.satDataLenInDraw=u.length,!settingsManager.lowPerf)if(settingsManager.isSatOverflyModeOn||settingsManager.isFOVBubbleModeOn)for(f.satDataLenInDraw*=3,b=0;b<f.satDataLenInDraw;b++)l[b]+=o[b]*v;else for(f.satDataLenInDraw-=settingsManager.maxFieldOfViewMarkers,b=0;b<3*f.satDataLenInDraw;b++)l[b]+=o[b]*v;gl.useProgram(e),gl.bindFramebuffer(gl.FRAMEBUFFER,null),gl.uniformMatrix4fv(e.uMvMatrix,!1,S),gl.uniformMatrix4fv(e.uCamMatrix,!1,s),gl.uniformMatrix4fv(e.uPMatrix,!1,r),gl.bindBuffer(gl.ARRAY_BUFFER,t),gl.bufferData(gl.ARRAY_BUFFER,l,gl.STREAM_DRAW),gl.vertexAttribPointer(e.aPos,3,gl.FLOAT,!1,0,0),gl.bindBuffer(gl.ARRAY_BUFFER,a),gl.enableVertexAttribArray(e.aColor),gl.vertexAttribPointer(e.aColor,4,gl.FLOAT,!1,0,0),gl.blendFunc(gl.SRC_ALPHA,gl.ONE_MINUS_SRC_ALPHA),gl.enable(gl.BLEND),gl.depthMask(!1),gl.drawArrays(gl.POINTS,0,u.length),gl.depthMask(!0),gl.disable(gl.BLEND),gl.useProgram(gl.pickShaderProgram),gl.bindFramebuffer(gl.FRAMEBUFFER,gl.pickFb),gl.uniformMatrix4fv(gl.pickShaderProgram.uMvMatrix,!1,S),gl.uniformMatrix4fv(gl.pickShaderProgram.uCamMatrix,!1,s),gl.uniformMatrix4fv(gl.pickShaderProgram.uPMatrix,!1,r),gl.enableVertexAttribArray(gl.pickShaderProgram.aColor),gl.bindBuffer(gl.ARRAY_BUFFER,i),gl.vertexAttribPointer(gl.pickShaderProgram.aColor,3,gl.FLOAT,!1,0,0),gl.bindBuffer(gl.ARRAY_BUFFER,n),gl.enableVertexAttribArray(gl.pickShaderProgram.aPickable),gl.vertexAttribPointer(gl.pickShaderProgram.aPickable,1,gl.FLOAT,!1,0,0),gl.drawArrays(gl.POINTS,0,u.length),w=g}},f.mergeSat=function(e){if(!u)return null;var t=f.getIdFromObjNum(e.SCC);u[t].ON=e.ON,u[t].C=e.C,u[t].LV=e.LV,u[t].LS=e.LS,u[t].R=e.R,u[t].URL=e.URL,u[t].NOTES=e.NOTES,u[t].TTP=e.TTP,u[t].FMISSED=e.FMISSED,u[t].ORPO=e.ORPO,u[t].constellation=e.constellation,u[t].associates=e.associates,u[t].maneuver=e.maneuver},f.setSat=function(e,t){if(!u)return null;u[e]=t},f.getSat=function(e){return u&&u[e]?(F&&(u[e].inViewChange=!1,u[e].inview!==g[e]&&(u[e].inViewChange=!0),u[e].inview=g[e],u[e].velocity=Math.sqrt(o[3*e]*o[3*e]+o[3*e+1]*o[3*e+1]+o[3*e+2]*o[3*e+2]),u[e].velocityX=o[3*e],u[e].velocityY=o[3*e+1],u[e].velocityZ=o[3*e+2],u[e].position={x:l[3*e],y:l[3*e+1],z:l[3*e+2]}),u[e]):null},f.getSatInViewOnly=function(e){return u&&u[e]?(u[e].inview=g[e],u[e]):null},f.getSatPosOnly=function(e){return u&&u[e]?(F&&(u[e].position={x:l[3*e],y:l[3*e+1],z:l[3*e+2]}),u[e]):null},f.getSatExtraOnly=function(e){return u&&u[e]?u[e]:null},f.getIdFromIntlDes=function(e){for(var t=0;t<u.length;t++)if(u[t].intlDes===e)return t;return null},f.getSatFromObjNum=function(e){var t=f.getIdFromObjNum(e);return f.getSat(t)},f.getIdFromObjNum=function(e){for(var t,a=0;a<u.length;a++)if(!u[a].static&&!u[a].missile&&(t=parseInt(u[a].SCC_NUM),parseInt(e)===t))return a;return null},f.getIdFromStarName=function(e){for(var t=0;t<u.length;t++)if("Star"===u[t].type&&u[t].name===e)return t;return null},f.getIdFromSensorName=function(e){if(void 0!==e)for(var t=0;t<u.length;t++)if(!0===u[t].static&&!0!==u[t].missile&&"Star"!==u[t].type&&u[t].name===e)return t;try{var a=timeManager.propTime(),r=timeManager.jday(a.getUTCFullYear(),a.getUTCMonth()+1,a.getUTCDate(),a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds());r+=1.15741e-8*a.getUTCMilliseconds();var i=satellite.gstime(r);cosLat=Math.cos(satellite.currentSensor.lat*DEG2RAD),sinLat=Math.sin(satellite.currentSensor.lat*DEG2RAD),cosLon=Math.cos(satellite.currentSensor.long*DEG2RAD+i),sinLon=Math.sin(satellite.currentSensor.long*DEG2RAD+i);var n={position:{},name:"Custom Sensor"};return n.position.x=(6371.25+satellite.currentSensor.obshei)*cosLat*cosLon,n.position.y=(6371.25+satellite.currentSensor.obshei)*cosLat*sinLon,n.position.z=(6371.25+satellite.currentSensor.obshei)*sinLat,n}catch(e){return console.log(e),null}},f.getScreenCoords=function(e,t,a,r){satScreenPositionArray.error=!1,r||(r=f.getSatPosOnly(e).position),x=vec4.fromValues(r.x,r.y,r.z,1),vec4.transformMat4(x,x,a),vec4.transformMat4(x,x,t),satScreenPositionArray.x=x[0]/x[3],satScreenPositionArray.y=x[1]/x[3],satScreenPositionArray.z=x[2]/x[3],satScreenPositionArray.x=.5*(satScreenPositionArray.x+1)*window.innerWidth,satScreenPositionArray.y=.5*(1-satScreenPositionArray.y)*window.innerHeight,satScreenPositionArray.x>=0&&satScreenPositionArray.y>=0&&satScreenPositionArray.z>=0&&satScreenPositionArray.z<=1||(satScreenPositionArray.error=!0)},f.searchNameRegex=function(e){for(var t=[],a=0;a<u.length;a++)e.test(u[a].ON)&&t.push(a);return t},f.searchCountryRegex=function(e){for(var t=[],a=0;a<u.length;a++)e.test(u[a].C)&&t.push(a);return t},f.searchAzElRange=function(e,t,a,r,i,n,s,l,o,g,c){var h=!isNaN(parseFloat(e))&&isFinite(e),m=!isNaN(parseFloat(t))&&isFinite(t),f=!isNaN(parseFloat(a))&&isFinite(a),S=!isNaN(parseFloat(r))&&isFinite(r),M=!isNaN(parseFloat(o))&&isFinite(o),p=!isNaN(parseFloat(i))&&isFinite(i),v=!isNaN(parseFloat(n))&&isFinite(n),b=!isNaN(parseFloat(s))&&isFinite(s),L=!isNaN(parseFloat(l))&&isFinite(l),C=!isNaN(parseFloat(g))&&isFinite(g);if(c*=1,m||f||h||S||M){p||(i=5),v||(n=5),b||(s=200),L||(l=1),C||(g=.5);for(var A=[],w=0,R=0;R<u.length;R++)u[R].static||u[R].missile||!u[R].active||(A.push(u[R]),satellite.getTEARR(A[w]),A[w].azimuth=satellite.currentTEARR.azimuth,A[w].elevation=satellite.currentTEARR.elevation,A[w].range=satellite.currentTEARR.range,A[w].inview=satellite.currentTEARR.inview,w++);if(S||M||(A=function(e){for(var t=[],a=0;a<e.length;a++)e[a].inview&&t.push(e[a]);return t}(A)),0!==c&&(A=function(e){for(var t=[],a=0;a<e.length;a++)e[a].OT===c&&t.push(e[a]);return t}(A)),h)A=function(e,t,a){for(var r=[],i=0;i<e.length;i++)e[i].azimuth<a&&e[i].azimuth>t&&r.push(e[i]);return r}(A,(e*=1)-(i*=1),e+i);if(m)A=function(e,t,a){for(var r=[],i=0;i<e.length;i++)e[i].elevation<a&&e[i].elevation>t&&r.push(e[i]);return r}(A,(t*=1)-(n*=1),t+n);if(f)A=function(e,t,a){for(var r=[],i=0;i<e.length;i++)e[i].range<a&&e[i].range>t&&r.push(e[i]);return r}(A,(a*=1)-(s*=1),a+s);if(S)A=function(e,t,a){for(var r=[],i=0;i<e.length;i++)(e[i].inclination*d).toFixed(2)<a&&(e[i].inclination*d).toFixed(2)>t&&r.push(e[i]);return r}(A,(r*=1)-(l*=1),r+l);if(M)A=function(e,t,a){for(var r=[],i=0;i<e.length;i++)e[i].period<a&&e[i].period>t&&r.length<=200&&r.push(e[i]);r.length>=200&&$("#findByLooks-results").text("Limited to 200 Results!");return r}(A,(o*=1)-(g*=1),o+g);var F=[];for(R=0;R<A.length;R++)R<A.length-1?$("#search").val($("#search").val()+A[R].SCC_NUM+","):$("#search").val($("#search").val()+A[R].SCC_NUM),F.push(A[R].SCC_NUM);return searchBox.doSearch($("#search").val()),A}},f.setHover=function(e){e!==M&&(gl.bindBuffer(gl.ARRAY_BUFFER,a),-1!==M&&gl.bufferSubData(gl.ARRAY_BUFFER,4*M*4,new Float32Array(settingsManager.currentColorScheme.colorizer(f.getSat(M)).color)),-1!==e&&gl.bufferSubData(gl.ARRAY_BUFFER,4*e*4,new Float32Array(settingsManager.hoverColor)),M=e)},f.selectSat=function(e){e!==selectedSat&&(adviceList.satelliteSelected(),h.postMessage({satelliteSelected:[e]}),settingsManager.isMobileModeEnabled&&mobile.searchToggle(!1),gl.bindBuffer(gl.ARRAY_BUFFER,a),-1!==selectedSat&&gl.bufferSubData(gl.ARRAY_BUFFER,4*selectedSat*4,new Float32Array(settingsManager.currentColorScheme.colorizer(f.getSat(selectedSat)).color)),-1!==e&&(isSatView=!0,gl.bufferSubData(gl.ARRAY_BUFFER,4*e*4,new Float32Array(settingsManager.selectedColor))),selectedSat=e,satellite.sensorSelected()&&$("#menu-lookangles").removeClass("bmenu-item-disabled"),$("#menu-lookanglesmultisite").removeClass("bmenu-item-disabled"),$("#menu-satview").removeClass("bmenu-item-disabled"),$("#menu-map").removeClass("bmenu-item-disabled"),$("#menu-editSat").removeClass("bmenu-item-disabled"),$("#menu-sat-fov").removeClass("bmenu-item-disabled"),$("#menu-newLaunch").removeClass("bmenu-item-disabled"),$("#menu-breakup").removeClass("bmenu-item-disabled"))},f.onCruncherReady=function(e){settingsManager.cruncherReady&&e()},window.satSet=f,window.satCruncher=h,window.satPos=l}();